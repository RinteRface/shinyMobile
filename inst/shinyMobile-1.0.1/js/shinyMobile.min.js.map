{"version":3,"sources":["init.js","app.js","actionSheetInputBinding.js","autoCompleteInputBinding.js","buttonInputBinding.js","cardInputBinding.js","collapsibleInputBinding.js","colorPickerInputBinding.js","dateInputBinding.js","datePickerInputBinding.js","fabsInputBinding.js","loginInputBinding.js","menuInputBinding.js","messageBarInputBinding.js","messagesInputBinding.js","panelInputBinding.js","panelMenuInputBinding.js","pickerInputBinding.js","radioInputBinding.js","selectInputBinding.js","sheetInputBinding.js","sliderInputBinding.js","smartSelectBinding.js","stepperInputBinding.js","tabsInputBinding.js","toggleInputBinding.js","virtualListBinding.js"],"names":["$","config","document","find","JSON","parse","html","isPWA","attr","root","serviceWorker","path","window","location","pathname","scope","methods","toggleDarkTheme","this","toggleClass","data","popovers","tooltips","actions","app","Framework7","mainView","views","create","hasOwnProperty","dark","device","desktop","prop","appendTo","colorCSS","utils","colorThemeCSSProperties","color","filled","addClass","deferredPrompt","installToast","toast","position","text","on","e","preventDefault","originalEvent","open","nextTick","close","prompt","userChoice","then","result","console","log","event","hide","reconnectToast","icon","Shiny","setInputValue","shinyapp","type","binding","undefined","name","split","value","standalone","css","height","width","length","params","closest","remove","addCustomMessageHandler","message","cl","effect","target","duration","setTimeout","removeClass","ran","skeletonsOnLoad","skeletonTargets","hasClass","preloader","dialog","el","isSplitLayout","extend","instanceFamily","property","id","oldInstance","oldConfig","newConfig","options","destroy","newInstance","uiWidgets","widgets","concat","handleTabLinkHighlight","segment_width","tabs","tabsClasses","i","push","className","translate_rate","idx","indexOf","append","activateWidget","widget","each","$el","insertAfter","unbindAll","initializeInputs","bindAll","forEach","w","popoverIds","getAllPopoverIds","index","popover","targetEl","content","p","t","tooltip","show","get","action","setText","cachedTooltip","Object","assign","pars","alert","title","confirm","callbackOk","callbackCancel","login","username","password","user","callback","Function","tabIds","getAllTabSetIds","tabId","ns","newTab","tab","children","select","prepend","link","insertBefore","renderContent","deps","oldLink","replaceWith","querySelector","swiper","update","tabToRemove","linkToRemove","otherLinks","not","next","prev","nextTabId","gauge","activateAllProgress","progress","parseInt","progressbar","set","animate","navbar","hideStatusbar","$navbar","buttonsId","buttons","element","defineProperty","setButtonInput","writable","opened","closed","a","ptrLoader","ptr","done","infoTag","pattern","error","info","parent","showIn","hideIn","priority","swipeout","f7ActionSheetBinding","InputBinding","setSource","query","render","results","vals","toLowerCase","getValue","receiveMessage","subscribe","unsubscribe","inputBindings","register","f7AutoCompleteBinding","initialize","call","attributes","test","camelCaseName","substr","replace","$0","$1","toUpperCase","isTrueSet","openIn","inputEl","openerEl","choices","source","change","trigger","autocomplete","val","setValue","_setChoices","off","f7ButtonInputBinding","getType","getState","match","join","isFilled","fill","isOutline","outline","isRaised","shadow","isRounded","rounded","isLarge","isSmall","size","label","f7CardBinding","card","toggle","f7CollapsibleBinding","accordionId","items","state","titles","selected","accordion","f7ColorPickerBinding","colorPicker","targetElSetBackgroundColor","modules","colorPickerModules","sliderValue","colorPickerSliderValue","sliderValueEditable","colorPickerSliderValueEditable","sliderLabel","colorPickerSliderLabel","hexLabel","colorPickerHexLabel","hexValueEditable","colorPickerHexValueEditable","groupedModules","colorPickerGroupedModules","palette","colorPickerPalettes","hex","colorPickerValue","ID","getElementById","f7DateBinding","getRatePolicy","policy","delay","f7DatePickerBinding","Date","calendar","tmpDate","UTC","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","dates","tmpdate","f7FabsBinding","fab","f7LoginBinding","l","loginScreen","f7MenuBinding","menu","f7MessageBarBinding","messagebar","setState","sendLink","setPlaceholder","placeholder","clear","focus","f7MessagesBinding","firstMessageRule","previousMessage","nextMessage","isTitle","lastMessageRule","tailMessageRule","messages","responseInProgress","showTyping","who","pop","header","addMessages","hideTyping","f7PanelBinding","panel","side","f7PanelMenuBinding","firstPanelId","first","panelActiveId","activeTab","f7PickerBinding","cols","textAlign","values","picker","f7Picker","displayValue","rotateEffect","scrollToInput","closeByOutsideClick","toolbar","toolbarCloseText","sheetSwipeToClose","$escape","updateLabel","labelTxt","labelNode","Error","isArray","radioInputBinding","checked_items","$objs","Array","_getLabel","_getLabelNode","siblings","obj","parentNode","tagName","trim","_setLabel","f7SelectBinding","f7SheetBinding","sheet","s","f7SliderBinding","parseFloat","range","r","min","updateScale","max","step","scaleSteps","scaleSubSteps","scale","dual","f7SmartSelectBinding","eq","$containerEl","ss","smartSelect","multiple","maxLength","empty","temp","f7StepperBinding","stepper","manualInputMode","inputTarget","increment","decrement","wraps","decimalPoint","manual","removeAttr","autorepeat","autorepeatDynamic","raised","f7TabsBinding","f7ToggleBinding","checked","f7VirtualListBinding","decodeHTML","txt","createElement","innerHTML","template","item","media","url","itemTemplate","searchAll","found","theme","virtualList","vl","current_from","currentFromIndex","current_to","currentToIndex","reach_end","reachEnd","resetFilter","addImageWrapper","appendItem","prependItem","appendItems","prependItems","replaceItem","replaceAllItems","moveItem","oldIndex","newIndex","insertItemBefore","filterItems","indexes","deleteItem","deleteAllItems","scrollToItem"],"mappings":"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","file":"shinyMobile.min.js","sourceRoot":"../../shinyMobile-build","sourcesContent":["$(function() {\n  // collect all data elements stored in body\n  var config = $(document).find(\"script[data-for='app']\");\n  config = JSON.parse(config.html());\n\n  // check if the app is intended to be a PWA\n  var isPWA = $('body').attr('data-pwa') === \"true\";\n\n  // always erase existing root value just in case the user changes the root.\n  // This may be harmful\n  config.root = \"#app\";\n\n  // only register sw if the user wants to make a PWA and has a sw available\n  if (isPWA) {\n    config.serviceWorker = {\n      path: window.location.pathname + \"service-worker.js\",\n      scope: window.location.pathname\n    };\n  }\n\n  // store app methods\n  config.methods =  {\n      toggleDarkTheme: function() {\n        var self = this;\n        var $view = self.$(\".view-main\");\n        $view.toggleClass(\"theme-dark\");\n      }\n    };\n\n  config.data = function() {\n    return {\n      popovers: [],\n      tooltips: [],\n      actions: []\n    };\n  };\n\n  // create app instance\n  app = new Framework7(config);\n\n  // init main view\n  mainView = app.views.create(\".view-main\");\n\n  // dark mode\n  if (!config.hasOwnProperty(\"dark\")) config.dark = false;\n  if (config.dark) {\n    app.methods.toggleDarkTheme();\n  }\n\n  // For mobile devices prevent text selection\n  if (!app.device.desktop) {\n    $(\"<style>\")\n      .prop(\"type\", \"text/css\")\n      .html(\n        `-webkit-user-select: none;\n         -khtml-user-select: none;\n         -moz-user-select: none;\n         -ms-user-select: none;\n         user-select: none;\n         -webkit-tap-highligth-color: transparent;\n         -webkit-touch-callout: none;\n        `\n      )\n      .appendTo(\"head\");\n  }\n\n  // Set color theme\n  if (config.hasOwnProperty(\"color\")) {\n    var colorCSS = app.utils.colorThemeCSSProperties(config.color);\n    $(\"<style>\")\n      .prop(\"type\", \"text/css\")\n      .html(\n        `:root {\n        --f7-theme-color: ${colorCSS[\"--f7-theme-color\"]};\n        --f7-theme-color-rgb: ${colorCSS[\"--f7-theme-color-rgb\"]};\n        --f7-theme-color-shade: ${colorCSS[\"--f7-theme-color-shade\"]};\n        --f7-theme-color-tint: ${colorCSS[\"--f7-theme-color-tint\"]};\n      }`\n      )\n      .appendTo(\"head\");\n  }\n\n  // Filled theme\n  if (!config.hasOwnProperty(\"filled\")) config.filled = false;\n  if (config.filled) {\n    var filledCSS = `\n    :root,\n    :root.theme-dark,\n    :root .theme-dark {\n      --f7-bars-bg-color: var(--f7-theme-color);\n      --f7-bars-bg-color-rgb: var(--f7-theme-color-rgb);\n      --f7-bars-translucent-opacity: 0.9;\n      --f7-bars-text-color: #fff;\n      --f7-bars-link-color: #fff;\n      --f7-navbar-subtitle-text-color: rgba(255,255,255,0.85);\n      --f7-bars-border-color: transparent;\n      --f7-tabbar-link-active-color: #fff;\n      --f7-tabbar-link-inactive-color: rgba(255,255,255,0.54);\n      --f7-sheet-border-color: transparent;\n      --f7-tabbar-link-active-border-color: #fff;\n    }\n    .appbar,\n    .navbar,\n    .toolbar,\n    .subnavbar,\n    .calendar-header,\n    .calendar-footer {\n      --f7-touch-ripple-color: var(--f7-touch-ripple-white);\n      --f7-link-highlight-color: var(--f7-link-highlight-white);\n      --f7-button-text-color: #fff;\n      --f7-button-pressed-bg-color: rgba(255,255,255,0.1);\n    }\n    .navbar-large-transparent,\n    .navbar-large.navbar-transparent {\n      --f7-navbar-large-title-text-color: #000;\n\n      --r: 0;\n      --g: 122;\n      --b: 255;\n      --progress: var(--f7-navbar-large-collapse-progress);\n      --f7-bars-link-color: rgb(\n        calc(var(--r) + (255 - var(--r)) * var(--progress)),\n        calc(var(--g) + (255 - var(--g)) * var(--progress)),\n        calc(var(--b) + (255 - var(--b)) * var(--progress))\n      );\n    }\n    .theme-dark .navbar-large-transparent,\n    .theme-dark .navbar-large.navbar-transparent {\n      --f7-navbar-large-title-text-color: #fff;\n  }`;\n\n    $(\"<style>\")\n      .prop(\"type\", \"text/css\")\n      .html(`${filledCSS}`)\n      .appendTo(\"head\");\n  }\n\n  // trick to fix the photo browser link issue\n  // we set the body class that will contain the color.\n  // We then recover this class in a variable in the app.js code\n  $(\"body\").addClass(config.color);\n  $(\"body\").attr(\"filled\", config.filled);\n\n  // Provide custom install prompt\n  if (isPWA) {\n    // Create custom install UI\n    var installToast = app.toast.create({\n      position: 'center',\n      text: '<button id=\"install-button\" class=\"toast-button button color-green\">Install</button>',\n    });\n\n    var deferredPrompt;\n    // Handle install event\n    $(window).on('beforeinstallprompt', (e) => {\n      // Prevent Chrome 67 and earlier from automatically showing the prompt\n      e.preventDefault();\n      // Stash the event so it can be triggered later.\n      deferredPrompt = e.originalEvent;\n      // Show install trigger\n      installToast.open();\n    });\n\n    // Installation must be done by a user gesture!\n    // close toast whenever a choice is made ... Give time\n    // to the toast to be created before event registration.\n    app.utils.nextTick(function() {\n      $('#install-button').on('click', function() {\n        // close install toast\n        installToast.close();\n        if (!deferredPrompt) {\n          // The deferred prompt isn't available.\n          return;\n        }\n        // Show the install prompt.\n        deferredPrompt.prompt();\n        // Log the result\n        deferredPrompt.userChoice.then((result) => {\n          console.log('👍', 'userChoice', result);\n          // Reset the deferred prompt variable, since\n          // prompt() can only be called once.\n          deferredPrompt = null;\n        });\n      });\n    }, 500);\n  }\n\n});\n","$(function() {\n  // utility to reset the input system\n  // whenever elements are added on the fly to the UI\n  function shinyInputsReset() {\n    Shiny.unbindAll();\n    Shiny.initializeInputs();\n    Shiny.bindAll();\n  }\n\n  // show reconnect notification\n  $(document).on(\"shiny:disconnected\", function(event) {\n    // remove shiny server stuff\n    $(\"#ss-connect-dialog\").hide();\n    $(\"#ss-overlay\").hide();\n    // use Framework7 internal tools\n    var reconnectToast = app.toast\n      .create({\n        icon: '<i class=\"icon f7-icons\">bolt_fill</i>',\n        position: \"center\",\n        text:\n          'Disconnected ... </br> </br> <div class=\"row\"><button onclick=\"Shiny.shinyapp.reconnect();\" class=\"toast-button button color-green col\">Reconnect</button><button onclick=\"location.reload();\" class=\"toast-button button color-red col\">Reload</button></div>'\n      })\n      .open();\n\n    // close toast whenever a choice is made ...\n    $(\".toast-button\").on(\"click\", function() {\n      reconnectToast.close();\n    });\n  });\n\n  // From this we can recover the workerId and the sessionId. sessionId\n  // is the same recovered on the server side with session$token.\n  $(document).on(\"shiny:sessioninitialized\", function(event) {\n    Shiny.setInputValue(\"shinyInfo\", Shiny.shinyapp.config);\n  });\n\n  // Returns the last input changed (name, value, type, ...)\n  $(document).on(\"shiny:inputchanged\", function(event) {\n    var type;\n    if (event.binding !== null) {\n      type = (event.binding.name !== undefined) ? event.binding.name.split(\".\")[1] : 'NA'\n      Shiny.setInputValue(\"lastInputChanged\", {\n        name: event.name,\n        value: event.value,\n        type: type\n      });\n    }\n  });\n\n  // Framework7.device is extremely useful to set up custom design\n  $(document).on(\"shiny:connected\", function(event) {\n    Shiny.setInputValue(\"deviceInfo\", Framework7.device);\n  });\n\n  // handle toolbar padding for mobiles in standalone mode\n  // only if there is an appbar\n  if (Framework7.device.standalone) {\n    $(\"html, body\").css({ height: \"100vh\", width: \"100vw\" });\n    if ($(\".appbar\").length > 0) {\n      $(\".toolbar\").css(\"margin-bottom\", \"20px\");\n    }\n  }\n\n  // Fix messagebar send icon issue when filled is TRUE. It is not\n  // visible because it takes the same color as the messagebar background ...\n  // To detect if the layout is filled, we search in the body class since the\n  // global color is hosted here.\n  if (app.params.filled && app.params.dark && $(\"body\").attr(\"class\") !== \"#ffffff\") {\n    $(\".demo-send-message-link\")\n      .find(\"i\")\n      .addClass(\"color-white\");\n  }\n\n  // chip label remove\n  $('.chip-delete').on('click', function() {\n    $(this).closest('.chip').remove();\n  });\n\n  // Skeleton effect at each output recalculation\n  const skeletonClass = 'skeleton-text skeleton-effect-fade';\n  // When recalculation starts\n  //$(document).on('shiny:outputinvalidated', function(e) {\n  //  $('#' + e.target.id).addClass(skeletonClass)\n  //});\n  //// When calculation is over\n  //$(document).on('shiny:value', function(e) {\n  //  $('#' + e.target.id).removeClass(skeletonClass)\n  //});\n\n  Shiny.addCustomMessageHandler('add_skeleton', function(message) {\n    var cl = 'skeleton-text skeleton-effect-' + message.effect\n    $(message.target).addClass(cl);\n    if (message.duration !== undefined) {\n      setTimeout(function() {\n        $(message.target).removeClass(cl);\n      }, message.duration * 1000)\n    } else {\n      $(document).on('shiny:idle', function() {\n        $(message.target).removeClass(cl);\n      });\n    }\n\n  });\n  // Skeleton preloader\n  window.ran = false;\n  if (app.params.skeletonsOnLoad) {\n    const skeletonTargets = [\".page-content\", \".navbar\", \".toolbar\"];\n    $(document).on('shiny:connected', function(event) {\n      setTimeout(function() {\n        if ($(\"html\").hasClass('shiny-busy')) {\n          for (target of skeletonTargets) {\n            $(target).addClass(skeletonClass);\n          }\n        }\n      }, 50);\n    });\n    $(document).on('shiny:idle', function(event){\n      if(!window.ran) {\n        for (target of skeletonTargets) {\n          $(target).removeClass(skeletonClass);\n        }\n      }\n      window.ran = true;\n    });\n  }\n\n  // Classic preloader\n  if (app.params.preloader) {\n    const preloader = app.dialog.preloader();\n    // Handle dark mode\n    if (app.params.dark) {\n      $(preloader.el).addClass(\"theme-dark\");\n    }\n    $(document).on('shiny:idle', function(event){\n      if(!window.ran){\n        app.dialog.close();\n      }\n      window.ran = true;\n    });\n  }\n\n\n  // handle background for dark mode\n  // need to remove the custom gainsboro color background\n  isSplitLayout = $(\"#app\").hasClass(\"split-layout\");\n  if (app.params.dark) {\n    // Required to apply correct CSS in shinyMobile.css\n    $(\"body\").addClass(\"dark\");\n    // Fix panel color in splitlayout\n    if (isSplitLayout) {\n      if ($(\".panel-left\").hasClass(\"theme-light\")) {\n        $(\".panel-left\")\n          .removeClass(\"theme-light\")\n          .addClass(\"theme-dark\");\n      }\n    }\n    $(\".appbar\").addClass(\"theme-dark\");\n  } else {\n    // Required to apply correct CSS in shinyMobile.css\n    $(\"body\").addClass(\"light\");\n    // Fix panel color in splitlayout\n    if (isSplitLayout) {\n      if ($(\".panel-left\").hasClass(\"theme-dark\")) {\n        $(\".panel-left\")\n          .removeClass(\"theme-dark\")\n          .addClass(\"theme-light\");\n      }\n    }\n  }\n\n  // allow for subnavbar. If a subnavbar if provided in the navbar\n  // add a custom class to the page so that the subnavbar is rendered\n  var subnavbar = $(\".subnavbar\");\n  if (subnavbar.length == 1) {\n    $(\".page\").addClass(\"page-with-subnavbar\");\n  }\n\n  // Update app instance params\n  Shiny.addCustomMessageHandler('update-app', function(message) {\n    // Merge new config to existing one\n    app.utils.extend(app.params, message);\n  });\n\n  Shiny.addCustomMessageHandler('update-entity', function(message) {\n    // Recover in which array is stored the given instance.\n    // Uniqueness is ensured since HTML id are supposed to be unique.\n    var instanceFamily;\n    for (const property in app.data) {\n      for (const e in app.data[property]) {\n        if (e === message.id) {\n          instanceFamily = property;\n        }\n      }\n    }\n\n    var oldInstance = app.data[instanceFamily][message.id];\n    var oldConfig = oldInstance.params;\n    var newConfig = app.utils.extend(oldConfig,  message.options);\n\n    // Destroy old instance\n    oldInstance.destroy();\n    // Create new config\n    var newInstance = app[instanceFamily].create(newConfig);\n    // Update app data\n    app.data[instanceFamily][message.id] = newInstance;\n  });\n\n\n\n\n\n  /**\n  * Instantiate all widgets: gauges, swiper, searchbar\n  */\n  const uiWidgets = [\"gauge\", \"swiper\", \"searchbar\"];\n  const serverWidgets = [\"toast\", \"photoBrowser\", \"notification\", \"popup\", \"listIndex\"];\n\n  const widgets = uiWidgets.concat(serverWidgets);\n\n  // Instantiate a widget\n  activateWidget = function(widget) {\n    // Handle ui side widgets\n    if (uiWidgets.indexOf(widget) > -1) {\n      $(\".\" + widget).each(function() {\n        var $el = $(this);\n        var config = $(document).find(\n          \"script[data-for='\" + $el.attr(\"id\") + \"']\"\n        );\n        config = JSON.parse(config.html());\n        // add the id\n        config.el = '#' + $el.attr(\"id\");\n\n        // feed the create method\n        app[widget].create(config);\n      });\n    } else {\n      // This concerns toasts, notifications, photoBrowser, ...\n      // that don't have any UI element in the DOM before creating\n      // the widget instance.\n      Shiny.addCustomMessageHandler(widget, function(message) {\n        if (widget === \"listIndex\") {\n          // We first insert the HTML before the page content div.\n          $('<div class=\\\"list-index\\\" id=\\\"' + message.el + '\\\"></div>')\n            .insertAfter($('.navbar'));\n        }\n        // Handle dark mode\n        message.on = {\n          open: function(target) {\n            if (message.id !== undefined) Shiny.setInputValue(message.id, true);\n            if (target.app.params.dark) {\n              $(target.el).addClass(\"theme-dark\");\n            }\n            shinyInputsReset();\n          },\n          close: function() {\n            if (message.id !== undefined) Shiny.setInputValue(message.id, false)\n          }\n        };\n        if (widget === \"listIndex\") {\n          message.el = \"#\" + message.el;\n          app[widget].create(message);\n        } else {\n          app[widget].create(message).open()\n        }\n      });\n    }\n  };\n\n  // Loop over all widgets to activate them\n  widgets.forEach(function(w) {\n    activateWidget(w);\n  });\n\n\n  // set up popovers\n  popoverIds = [];\n  getAllPopoverIds = function() {\n    //In data-popover attribute we specify CSS selector of popover we need to open\n    $(\"[data-popover]\").each(function() {\n      popoverIds.push($(this).attr(\"data-popover\"));\n    });\n  };\n\n  // call the function ...\n  getAllPopoverIds();\n\n  popoverIds.forEach(function(index) {\n    Shiny.addCustomMessageHandler(index, function(message) {\n      // Handle dark mode\n      message.on = {\n        open: function(target) {\n          if (target.app.params.dark) {\n            $(target.el).addClass(\"theme-dark\");\n          }\n        }\n      };\n      var popover = app.popover.create({\n        targetEl: '[data-popover = \"' + index + '\"]',\n        content:\n          '<div class=\"popover\">' +\n          '<div class=\"popover-inner\">' +\n          '<div class=\"block\">' +\n          message.content +\n          \"</div>\" +\n          \"</div>\" +\n          \"</div>\"\n      });\n      $('[data-popover = \"' + index + '\"]').on(\"click\", function() {\n        popover.open();\n      });\n    });\n  });\n\n\n  // New popover API shinyMobile 2.0.0\n  Shiny.addCustomMessageHandler('add_popover', function(message) {\n    // We store all created instances in app data so that we don't\n    // recreate them later if they exist ...\n    if (app.data.popovers[message.targetEl] === undefined) {\n      // Only create if popover is enable for the current targetEl\n      if (!$(message.targetEl).hasClass('popover-disabled')) {\n        // popover HTML layout\n        message.content = `\n        <div class=\"popover\">\n          <div class=\"popover-angle\"></div>\n          <div class=\"popover-inner\">\n            <div class=\"block\">${message.content}</div>\n          </div>\n        </div>\n        `;\n\n        // Handle dark mode\n        message.on = {\n          open: function(target) {\n            if (target.app.params.dark) {\n              $(target.el).addClass(\"theme-dark\");\n            }\n          }\n        };\n\n        // create instance\n        var p = app.popover.create(message);\n        // Open popover\n        p.open();\n        // Storage in app data (popovers array)\n        app.data.popovers[message.targetEl] = p;\n        }\n    } else {\n      // Only show if popover is enable for the current targetEl\n      if (!$(message.targetEl).hasClass('popover-disabled')) {\n        app.data.popovers[message.targetEl].open();\n      }\n    }\n  });\n\n\n  Shiny.addCustomMessageHandler('toggle_popover', function(message) {\n    // Simply adds a class to indicate that the popover has to be hidden\n    $(message).toggleClass('popover-disabled');\n  });\n\n\n  // Tooltips new API shinyMobile 2.0.0\n  Shiny.addCustomMessageHandler('add_tooltip', function(message) {\n    // We store all created instances in app data so that we don't\n    // recreate them later if they exist ...\n    if (app.data.tooltips[message.targetEl] === undefined) {\n      // create instance\n      var t = app.tooltip.create(message);\n      // Open tooltip\n      t.show();\n      // Storage in app data (tooltips array)\n      app.data.tooltips[message.targetEl] = t;\n    }\n  });\n\n  Shiny.addCustomMessageHandler('update_tooltip', function(message) {\n    if (app.data.tooltips[message.targetEl] !== undefined) {\n      // Try to get the instance\n      var t = app.tooltip.get(message.targetEl);\n      if (message.action === \"update\") {\n        if (t) {\n          t.setText(message.text);\n        }\n      } else if (message.action === \"toggle\") {\n        if (t) {\n          // create copy that won't be modified if t is destroyed!\n          var cachedTooltip = Object.assign({}, t);\n          // save copy to replace the deleted one in the app data\n          app.data.tooltips[message.targetEl] = cachedTooltip;\n          // destroy current instance\n          t.destroy();\n        } else {\n          // Parameters\n          var pars = app.data.tooltips[message.targetEl].params;\n          // recreate the tooltip based on the copy configuration\n          t = app.tooltip.create(pars);\n          app.data.tooltips[message.targetEl] = t;\n        }\n      }\n    }\n  });\n\n\n  // handle dialog\n  Shiny.addCustomMessageHandler(\"dialog\", function(message) {\n    var type = message.type;\n    // decide to lock the vertical size so that\n    // people don't need to manually add overflow.\n    var text = `<div style=\"max-height: 300px; overflow-y: scroll;\">${message.text}</div>`\n    var dialog;\n    switch (type) {\n      case \"alert\":\n        dialog = app.dialog.alert(text, message.title, message.on);\n        break;\n      case \"confirm\":\n        dialog = app.dialog\n          .confirm(\n            (text = text),\n            (title = message.title),\n            (callbackOk = function() {\n              Shiny.setInputValue(message.id, true);\n            }),\n            (callbackCancel = function() {\n              Shiny.setInputValue(message.id, false);\n            })\n          )\n          .open(Shiny.setInputValue(message.id, null));\n        //confirm.closed(Shiny.setInputValue(message.id, null));\n        break;\n      case \"prompt\":\n        dialog =  app.dialog\n          .prompt(\n            (text = text),\n            (title = message.title),\n            (callbackOk = function(value) {\n              Shiny.setInputValue(message.id, value);\n            }),\n            (callbackCancel = function() {\n              Shiny.setInputValue(message.id, null);\n            })\n          )\n          .open(Shiny.setInputValue(message.id, null));\n        break;\n      case \"login\":\n        dialog = app.dialog\n          .login(\n            (text = text),\n            (title = message.title),\n            (callbackOk = function(username, password) {\n              Shiny.setInputValue(message.id, {\n                user: username,\n                password: password\n              });\n            }),\n            (callbackCancel = function() {\n              Shiny.setInputValue(message.id, null);\n            })\n          )\n          .open(Shiny.setInputValue(message.id, null));\n        break;\n      default:\n        console.log(\"\");\n    }\n    // Handle dark mode\n    if (app.params.dark) {\n      $(dialog.el).addClass(\"theme-dark\");\n    }\n  });\n\n  // handle taphold events\n  Shiny.addCustomMessageHandler(\"tapHold\", function(message) {\n    var callback = new Function('return ('+ message.callback +')');\n    $(message.target).on(\"taphold\", function() {\n      callback();\n    });\n  });\n\n  // handle f7InsertTab and f7RemoveTab ...\n  // recover all tabSet ids in an array\n  // The idea is that we will add each respective\n  // id to the Shiny.addCustomMessageHandler function\n  // which first argument is the type and should be the id\n  // of the targeted tabSet\n\n  function handleTabLinkHighlight() {\n    $(\".tab-link-highlight\").remove();\n    // calculate new segment width\n    var segment_width = 100 / $(\".toolbar-inner > a\").length;\n    // calculate new indicator position\n    var tabs = $(\".toolbar-inner > a\");\n    var tabsClasses = [];\n    for (i= 0; i<tabs.length; i++) {\n      tabsClasses.push(tabs[i].className)\n    }\n    var idx = tabsClasses.indexOf(\"tab-link tab-link-active\");\n    var translate_rate;\n    // In case of removeTab, if no other tab is active,\n    // we select the first tab after the one removed.\n    if (idx === -1) {\n      translate_rate = 0;\n    } else {\n      translate_rate = idx * 100 + '%';\n    }\n\n\n    $(\".toolbar-inner\").append(\n      '<span class=\"tab-link-highlight\" style=\"width: ' +\n        segment_width +\n        '%; transform: translate3d(' + translate_rate + ', 0px, 0px);\"></span>'\n    );\n  }\n\n  var tabIds = [];\n  getAllTabSetIds = function() {\n    $(\".tabs.ios-edges\").each(function() {\n      tabIds.push(this.id);\n    });\n  };\n\n  // call the function ...\n  getAllTabSetIds();\n\n  // f7InsertTab js\n  tabIds.forEach(function(index) {\n    var id = \"insert_\" + index;\n    Shiny.addCustomMessageHandler(id, function(message) {\n      // Handle when message.target is null\n      var tabId;\n      if (message.target === undefined) {\n        tabId = $('#' + message.ns); // target the parent tabset\n      } else {\n        tabId = $('#' + message.ns + '-' + message.target);\n      }\n\n      var tab = $(message.value.html);\n\n\n      // for swipeable tabs\n      var newTab;\n      if ($(tabId).hasClass(\"swiper-slide\")) {\n        // prepare the new slide\n        newTab = $(tab).addClass(\"swiper-slide\");\n        // remove page content class for standalone tabs\n        if (\n          $(\".tabLinks\")\n            .children(1)\n            .hasClass(\"segmented\")\n        ) {\n          $(newTab).removeClass(\"page-content\");\n        }\n        // add active if necessary\n        if (message.select === \"true\") {\n          $(newTab).addClass(\"swiper-slide-active\");\n        }\n      } else {\n        newTab = $(tab);\n      }\n\n      // Ignore position if target is not defined\n      if (message.target === undefined) {\n        // Insert tab content\n        $(tabId).append(newTab);\n        // Insert tab link in tabset toolbar\n        $('.tabLinks .toolbar-inner').prepend(message.link);\n      } else {\n        if (message.position === \"after\") {\n          // insert after the targeted tag in the tab-panel div\n          $(newTab).insertAfter($(tabId));\n          // we also need to insert an item in the navigation\n          $(message.link).insertAfter(\n            $(\n              '.tabLinks [data-tab =\"#' + message.ns + \"-\" + message.target + '\"]'\n            )\n          );\n        } else if (message.position === \"before\") {\n          // insert before the targeted tag in the tab-panel div\n          $(newTab).insertBefore($(tabId));\n          // we also need to insert an item in the navigation\n          $(message.link).insertBefore(\n            $(\n              '.tabLinks [data-tab =\"#' + message.ns + \"-\" + message.target + '\"]'\n            )\n          );\n        }\n      }\n\n      // needed to render input/output in newly added tab. It takes the possible\n      // deps and add them to the tag. Indeed, if we insert a tab, its deps are not\n      // included in the page so it can't render properly\n      Shiny.renderContent(\n        tab[0],\n        {html: tab.html(), deps: message.value.deps}\n      );\n\n      // we need to transform a in button in case\n      // the container has segmented class (for standalone tabs).\n      // This is ignored for toolbar tabs\n      if (\n        $(\".tabLinks\")\n          .children(1)\n          .hasClass(\"segmented\")\n      ) {\n        var newLink;\n        var oldLink = $('.tabLinks [data-tab =\"#' + message.id + '\"]');\n        newLink = $(oldLink).replaceWith(\n          '<button class=\"button tab-link\" data-tab=\"#' +\n            message.id +\n            '\">' +\n            $(oldLink).html() +\n            \"</button>\"\n        );\n      }\n\n      // update the swiper if needed\n      if ($(tabId).hasClass(\"swiper-slide\")) {\n        // access the swiper container\n        var swiper = document.querySelector(\".swiper-container\").swiper;\n        swiper.update();\n      }\n\n      // if the newly inserted tab is active, disable other tabs\n      if (message.select === \"true\") {\n        // trigger a click on corresponding the new tab button.\n        app.tab.show(\"#\" + message.id, true);\n      }\n\n      // we programmatically remove the old tabbar indicator and rebuild it.\n      // The with of the tabbar indicator depends on the number of tab items it contains\n      if (\n        !$(\".tabLinks\")\n          .children(1)\n          .hasClass(\"segmented\")\n      ) {\n        handleTabLinkHighlight();\n      }\n    });\n  });\n\n  // f7RemoveTab js\n  tabIds.forEach(function(index) {\n    var id = \"remove_\" + index;\n    Shiny.addCustomMessageHandler(id, function(message) {\n      // show the next tab first\n      var tabToRemove = $(\"#\" + message.ns + \"-\" + message.target);\n\n      // important: prevent tab from translating which would lead to a\n      // white screen\n      $(\".tabs.ios-edges\").css(\"transform\", \"\");\n\n      // remove the tab link: if condition to handle the case\n      // of standalone tabs vs toolbar tabs\n      if (\n        !$(\".tabLinks\")\n          .children(1)\n          .hasClass(\"segmented\")\n      ) {\n        $(\n          '.toolbar-inner a[data-tab=\"#' +\n            message.ns +\n            \"-\" +\n            message.target +\n            '\"]'\n        ).remove();\n      } else {\n        var linkToRemove = $(\n          '.tabLinks button[data-tab=\"#' +\n            message.ns +\n            \"-\" +\n            message.target +\n            '\"]'\n        );\n        var otherLinks = $(\".tabLinks button\").not(\n          '[data-tab=\"#' + message.ns + \"-\" + message.target + '\"]'\n        );\n        if ($(linkToRemove).next().length === 0) {\n          if (!$(otherLinks).hasClass(\"tab-link-active\")) {\n            $(linkToRemove)\n              .prev()\n              .addClass(\"tab-link-active\");\n          }\n        } else {\n          if (!$(otherLinks).hasClass(\"tab-link-active\")) {\n            $(linkToRemove)\n              .next()\n              .addClass(\"tab-link-active\");\n          }\n        }\n        $(linkToRemove).remove();\n      }\n\n      // remove the tab body content\n      $(\"#\" + message.ns + \"-\" + message.target).remove();\n\n      // update the swiper if needed\n      if ($(tabToRemove).hasClass(\"swiper-slide\")) {\n        // access the swiper container\n        var swiper = document.querySelector(\".swiper-container\").swiper;\n        swiper.update();\n      }\n\n      // show the next element. Need to be after the swiper update.\n      var nextTabId = $(tabToRemove)\n        .next()\n        .attr(\"id\");\n      app.tab.show(\"#\" + nextTabId);\n\n      // we programmatically remove the old tabbar indicator and rebuild it.\n      // The with of the tabbar indicator depends on the number of tab items it contains\n      if (\n        !$(\".tabLinks\")\n          .children(1)\n          .hasClass(\"segmented\")\n      ) {\n        handleTabLinkHighlight();\n      }\n    });\n  });\n\n\n  // Update gauges\n  Shiny.addCustomMessageHandler(\"update-gauge\", function(message) {\n    var el = \"#\" + message.id;\n    app.gauge.get(el).update(message);\n  });\n\n\n  // Create and show all f7Progress\n  activateAllProgress = function() {\n    $(\".progressbar\").each(function() {\n      var el = \"#\" + $(this).attr(\"id\");\n      var progress = parseInt($(this).attr(\"data-progress\"));\n      // color does not work from JS (needs to be done from R)\n      app.progressbar.show(el, progress);\n    });\n  };\n\n  activateAllProgress();\n\n  // update f7Progress\n  Shiny.addCustomMessageHandler(\"update-progress\", function(message) {\n    app.progressbar.set(\"#\" + message.id, message.progress);\n  });\n\n\n  // show navbar (to remove)\n  Shiny.addCustomMessageHandler(\"show_navbar\", function(message) {\n    var animate;\n    if (message.animate == \"true\") animate = true;\n    else animate = false;\n    app.navbar.show(\".navbar\", (animate = message.animate));\n  });\n\n  // hide navbar (to remove)\n  Shiny.addCustomMessageHandler(\"hide_navbar\", function(message) {\n    var animate;\n    var hideStatusbar;\n    if (message.animate == \"true\") animate = true;\n    else animate = false;\n    if (message.hideStatusbar == \"true\") hideStatusbar = true;\n    else hideStatusbar = false;\n    app.navbar.hide(\n      \".navbar\",\n      (animate = animate),\n      (hideStatusbar = hideStatusbar)\n    );\n  });\n\n  // toggle navbar\n  Shiny.addCustomMessageHandler(\"toggle_navbar\", function(message) {\n    $navbar = $('.navbar');\n    var isHidden = $navbar.hasClass('navbar-hidden');\n    if (isHidden) {\n      app.navbar.show(\".navbar\", animate = message.animate);\n    } else {\n      app.navbar.hide(\".navbar\", animate = message.animate, hideStatusbar = message.hideStatusbar);\n    }\n  });\n\n  // handle action sheet\n  Shiny.addCustomMessageHandler(\"action-sheet\", function(message) {\n    // Only create action sheet whenever necessary\n    if (app.data.actions[message.id] === undefined) {\n      var buttonsId = message.id + \"_button\";\n\n      // define function that set an inputvalue those name depends on an index\n      // parameter\n      function setButtonInput(index) {\n        Shiny.setInputValue(buttonsId, index);\n      }\n\n      // add those functions to the message.button array\n      function setOnClick(element, index) {\n        Object.defineProperty(element, \"onClick\", {\n          value: function() {\n            setButtonInput(index + 1);\n          },\n          writable: false\n        });\n      }\n\n      message.buttons.forEach(setOnClick);\n\n      // Callbacks for shiny inputs\n      message.on = {\n        open: function(target) {\n          if (target.app.params.dark) {\n            $(target.el).addClass(\"theme-dark\");\n          }\n        },\n        opened: function() {\n          Shiny.setInputValue(message.id, true);\n        },\n        closed: function() {\n          Shiny.setInputValue(message.id, false);\n          // input$button is null when the action is closed\n          Shiny.setInputValue(buttonsId, null);\n        }\n      };\n\n      // create the sheet\n      var a = app.actions.create(message)\n      a.open();\n      // save action sheet to app data to update it later\n      app.data.actions[message.id] = a;\n\n    } else {\n      app.data.actions[message.id].open();\n    }\n  });\n\n\n  Shiny.addCustomMessageHandler(\"update-action-sheet\", function(message) {\n    // Destroy old instance\n    app.data.actions[message.id].destroy();\n    // Create new config\n    var a = app.actions.create(message);\n    // Update app data\n    app.data.actions[message.id] = a;\n  });\n\n\n\n  // pull to refresh\n  // add the preloader tag dynamically\n  if ($('body').attr('data-ptr') === 'true') {\n    const ptrLoader = $(\n      '<div class=\"ptr-preloader\">' +\n        '<div class=\"preloader\"></div>' +\n        '<div class=\"ptr-arrow\"></div>' +\n        \"</div>\"\n    );\n\n    // add useful classes to the page content\n    $(\".page-content\")\n      .addClass(\"ptr-content\")\n      .prepend(ptrLoader)\n      .attr(\"data-ptr-distance\", \"55\")\n      .attr(\"data-ptr-mousewheel\", \"true\");\n\n    // we need to create the ptr manually since it\n    // is added after the page initialization\n    app.ptr.create(\".ptr-content\");\n    var ptr = app.ptr.get(\".ptr-content\");\n    // Add 'refresh' listener on it\n    ptr.on(\"refresh\", function(e) {\n      // Emulate 2s loading\n      Shiny.setInputValue(\"ptr\", true);\n      setTimeout(function() {\n        app.ptr.done();\n      }, 2000);\n    });\n\n    // reset input. This will prevent observeEvent from\n    // always being fired since they ignore NULL by default.\n    // Therefore, instead of setting ptr to FALSE, we set it\n    // to null\n    ptr.on(\"done\", function(e) {\n      Shiny.setInputValue(\"ptr\", null);\n    });\n  }\n\n  // validate inputs (see f7ValidateInput)\n  Shiny.addCustomMessageHandler(\"validate-input\", function(message) {\n    $(\"#\" + message.target)\n      .attr(\"required\", \"\")\n      .attr(\"validate\", \"\")\n      .attr(\"pattern\", message.pattern)\n      .attr(\"data-error-message\", message.error);\n\n    $(\"#\" + message.target)\n      .closest(\".item-content.item-input\")\n      .addClass(\"item-input-with-info\");\n    var infoTag;\n    if (message.info !== undefined) {\n      infoTag = '<div class = \"item-input-info\">' + message.info + \"</div>\";\n    }\n    $(\"#\" + message.target)\n      .parent()\n      .append(infoTag);\n  });\n\n  // preloader\n  Shiny.addCustomMessageHandler(\"show-preloader\", function(message) {\n    if (typeof message.el !== \"undefined\") {\n      app.preloader.showIn(message.el, message.color);\n    } else {\n      app.preloader.show(message.color);\n    }\n  });\n\n  Shiny.addCustomMessageHandler(\"hide-preloader\", function(message) {\n    if (typeof message.el !== \"undefined\") {\n      app.preloader.hideIn(message.el);\n    } else {\n      app.preloader.hide();\n    }\n  });\n\n\n  // Each click on swipeout item set shiny input value to TRUE\n  // We also close the parent swipeout container. Set proirity to event\n  // so that the input always invalidate observers on the R side, even though\n  // its value does not change.\n  $('.swipeout-item').each(function() {\n    $(this).on('click', function() {\n      Shiny.setInputValue($(this).attr('id'), true, {priority: 'event'});\n      // close the swipeout element\n      app.swipeout.close($(this).closest('.swipeout'));\n    });\n  })\n\n});\n","// Input binding\nvar f7ActionSheetBinding = new Shiny.InputBinding();\n\n$.extend(f7ActionSheetBinding, {\n\n  find: function(scope) {\n    //return $(scope).find(\".actions-modal\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    //var s = app.actions.get($(el));\n    //console.log(s);\n    //return s.opened;\n  },\n\n  // see updateF7Sheet\n  receiveMessage: function(el, data) {\n    //var s = app.actions.get($(el));\n    //if (s.opened) {\n    //  s.close();\n    //} else {\n    //  s.open();\n    //}\n  },\n\n  subscribe: function(el, callback) {\n    // need to subscribe after open and close\n    // therefore we listen to opened and closed, respectively\n    //$(el).on(\"actions:open.f7ActionSheetBinding actions:close.f7ActionSheetBinding\", function(e) {\n    //  callback();\n    //});\n  },\n\n  unsubscribe: function(el) {\n    //$(el).off(\".f7ActionSheetBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7ActionSheetBinding);\n","// Input binding\nfunction setSource(query, render) {\n  var results = [];\n  if (query.length === 0) {\n    render(results);\n    return;\n  }\n  // Find matched items\n  for (var i = 0; i < vals.length; i++) {\n    if (vals[i].toLowerCase().indexOf(query.toLowerCase()) >= 0) {\n      results.push(vals[i]);\n    }\n  }\n  // Render items by passing array with result items\n  render(results);\n};\n\nvar f7AutoCompleteBinding = new Shiny.InputBinding();\n\n$.extend(f7AutoCompleteBinding, {\n\n  initialize: function(el) {\n\n    // recover the inputId passed in the R function\n    var id = $(el).attr(\"id\");\n\n    // convert data attributes to camelCase parameters\n    // necessary in the create method\n    var data = {};\n    [].forEach.call(el.attributes, function(attr) {\n      if (/^data-/.test(attr.name)) {\n        var camelCaseName = attr.name.substr(5).replace(/-(.)/g, function ($0, $1) {\n          return $1.toUpperCase();\n        });\n        // convert \"true\" to true and \"false\" to false only for booleans\n        if ([\"openIn\", \"choices\", \"value\", \"dropdownPlaceholderText\", \"limit\"].indexOf(camelCaseName) == -1) {\n          var isTrueSet = (attr.value == 'true');\n          data[camelCaseName] = isTrueSet;\n        } else {\n          data[camelCaseName] = attr.value;\n        }\n      }\n    });\n\n    data.value = JSON.parse(data.value);\n\n    // special case where the autocomplete is standalone\n    if (data.openIn == \"dropdown\") {\n      data.inputEl = '#' + id;\n    } else {\n      data.openerEl = '#' + id;\n    }\n\n    var vals = JSON.parse(data.choices);\n    data.source = function (query, render) {\n      var results = [];\n      if (query.length === 0) {\n        render(results);\n        return;\n      }\n      // Find matched items\n      for (var i = 0; i < vals.length; i++) {\n        if (vals[i].toLowerCase().indexOf(query.toLowerCase()) >= 0) {\n          results.push(vals[i]);\n        }\n      }\n      // Render items by passing array with result items\n      render(results);\n    };\n\n    // for popup and page so that shiny is aware about input change\n    data.on = {\n      change: function (value) {\n        // important: trigger change so that the input value\n        // is updated for Shiny\n        $('#' + id).trigger('change');\n      }\n    };\n\n    app.autocomplete.create(data);\n  },\n\n  find: function(scope) {\n    return $(scope).find(\".autocomplete-input\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    var a = app.autocomplete.get($(el));\n    // Set value in placeholder\n    $(a.params.inputEl).val(a.value);\n    return a.value;\n  },\n\n  // see updateF7AutoComplete\n  setValue: function(el, value) {\n    el.value = value;\n    el.params.value = value;\n    // needed to update the text input\n    $(el.params.inputEl).val(el.value);\n  },\n\n  _setChoices: function(el, choices) {\n    // vals is required by setSource as global var.\n    vals = choices;\n    el.params.source = setSource;\n  },\n\n  // see updateF7AutoComplete\n  receiveMessage: function(el, data) {\n    var a = app.autocomplete.get($(el));\n    // update choices\n    if (data.hasOwnProperty('choices')) {\n      this._setChoices(a, data.choices);\n    }\n    // Update value\n    if (data.hasOwnProperty('value')) {\n      this.setValue(a, data.value);\n    }\n    $(el).trigger('change');\n  },\n\n  subscribe: function(el, callback) {\n    $(el).on(\"change.f7AutoCompleteBinding\", function(e) {\n      // we need a delay since shiny is faster than\n      // the f7AutoComplete animation\n      setTimeout(function() {\n        callback();\n      }, 10);\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7AutoCompleteBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7AutoCompleteBinding, 'f7.autocomplete');","var f7ButtonInputBinding = new Shiny.InputBinding();\n$.extend(f7ButtonInputBinding, {\n  find: function(scope) {\n    return $(scope).find(\".f7-action-button\");\n  },\n  getValue: function(el) {\n    return $(el).data('val') || 0;\n  },\n  setValue: function(el, value) {\n    $(el).data('val', value);\n  },\n  getType: function(el) {\n    return 'shiny.action';\n  },\n  subscribe: function(el, callback) {\n    $(el).on(\"click.f7ButtonInputBinding\", function(e) {\n      var $el = $(this);\n      var val = $el.data('val') || 0;\n      $el.data('val', val + 1);\n\n      callback();\n    });\n  },\n  getState: function(el) {\n    return { value: this.getValue(el) };\n  },\n  receiveMessage: function(el, data) {\n    var $el = $(el);\n\n    // update color\n    if (data.hasOwnProperty(\"color\")) {\n      $(el).removeClass (function (index, className) {\n    return (className.match (/(^|\\s)color-\\S+/g) || []).join(' ');\n});\n      $(el).addClass(\"color-\" + data.color);\n    }\n\n    // update fill\n    if (data.hasOwnProperty(\"fill\")) {\n      var isFilled = $(el).hasClass(\"button-fill\");\n      if (data.fill) {\n        if (!isFilled) $(el).addClass(\"button-fill\");\n      } else {\n        if (isFilled) $(el).removeClass(\"button-fill\");\n      }\n    }\n\n    // update outline\n    if (data.hasOwnProperty(\"outline\")) {\n      var isOutline = $(el).hasClass(\"button-outline\");\n      if (data.outline) {\n        if (!isOutline) $(el).addClass(\"button-outline\");\n      } else {\n        if (isOutline) $(el).removeClass(\"button-outline\");\n      }\n    }\n\n    // update raided\n    if (data.hasOwnProperty(\"shadow\")) {\n      var isRaised = $(el).hasClass(\"button-raised\");\n      if (data.shadow) {\n        if (!isRaised) $(el).addClass(\"button-raised\");\n      } else {\n        if (isRaised) $(el).removeClass(\"button-raised\");\n      }\n    }\n\n    // update rounded\n    if (data.hasOwnProperty(\"rounded\")) {\n      var isRounded = $(el).hasClass(\"button-round\");\n      if (data.rounded) {\n        if (!isRounded) $(el).addClass(\"button-round\");\n      } else {\n        if (isRounded) $(el).removeClass(\"button-round\");\n      }\n    }\n\n    // update size\n    if (data.hasOwnProperty(\"size\")) {\n      var isLarge = $(el).hasClass(\"button-large\");\n      var isSmall = $(el).hasClass(\"button-small\");\n      if (!isLarge & !isSmall) $(el).addClass(\"button-\" + data.size);\n      if (!isLarge & isSmall) {\n        $(el).removeClass(\"button-small\");\n        $(el).addClass(\"button-\" + data.size);\n      }\n      if (isLarge & !isSmall) {\n        $(el).removeClass(\"button-large\");\n        $(el).addClass(\"button-\" + data.size);\n      }\n    }\n\n\n    // retrieve current label and icon\n    var label = $el.text();\n\n    // update the requested properties\n    if (data.hasOwnProperty('label')) label = data.label;\n    // produce new html\n    $el.html(label);\n  },\n  unsubscribe: function(el) {\n    $(el).off(\".f7ButtonInputBinding\");\n  }\n});\nShiny.inputBindings.register(f7ButtonInputBinding, 'f7.button');\n\n\n$(document).on('click', 'a.f7-action-button', function(e) {\n  e.preventDefault();\n});","// Input binding\nvar f7CardBinding = new Shiny.InputBinding();\n\n$.extend(f7CardBinding, {\n\n  find: function(scope) {\n    return $(scope).find(\".card-expandable\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    var open = $(el).hasClass('card-opened');\n    return open;\n  },\n\n  // see updateF7Card\n  receiveMessage: function(el, data) {\n    app.card.toggle($(el));\n  },\n\n  subscribe: function(el, callback) {\n    // need to subscribe after open and close\n    // therefore we listen to opened and closed, respectively\n    $(el).on(\"card:opened.f7CardBinding card:closed.f7CardBinding\", function(e) {\n      callback();\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7CardBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7CardBinding, 'f7.card');\n","// Input binding\nvar f7CollapsibleBinding = new Shiny.InputBinding();\n\n$.extend(f7CollapsibleBinding, {\n\n  find: function(scope) {\n    return $(scope).find(\".collapsible\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    var accordionId = $($(el)[0]).attr('id');\n    var items = $('#' + accordionId + ' li.accordion-item-opened');\n    if (items.length > 0) {\n     // find title\n     if (items.length === 1) {\n      var val = $(items[0]).find('.item-title').html();\n      return {state: true, value: val};\n     } else {\n       var titles = [];\n       $(items).each(function(i) {\n         titles.push($(items[i]).find('.item-title').html());\n       });\n       return {state: true, value: titles};\n     }\n    } else {\n      return {state: false, value: null};\n    }\n  },\n\n  // see updateF7Collapsible\n  receiveMessage: function(el, data) {\n    if (data.hasOwnProperty('selected')) {\n      var accordionId = $($(el)[0]).attr('id');\n      var items = $('#' + accordionId + ' .accordion-item');\n      var idx = data.selected - 1;\n      var target = $(items[idx]);\n      app.accordion.toggle(target);\n    }\n  },\n\n  subscribe: function(el, callback) {\n    // need to subscribe after open and close\n    // therefore we listen to opened and closed, respectively\n    $(el).on(\"accordion:opened.f7CollapsibleBinding accordion:closed.f7CollapsibleBinding\", function(e) {\n      callback();\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7CollapsibleBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7CollapsibleBinding, 'f7.collapsible');","// Input binding\nvar f7ColorPickerBinding = new Shiny.InputBinding();\n\n$.extend(f7ColorPickerBinding, {\n\n  initialize: function(el) {\n    app.colorPicker.create({\n      inputEl: el,\n      targetEl: $(el).attr(\"id\") + '-value',\n      targetElSetBackgroundColor: true,\n      modules: colorPickerModules,\n      // I keep openIn default to auto since\n      // it is better to be automatically optimized\n      // based on the currently selected device.\n      openIn: 'auto',\n      sliderValue: colorPickerSliderValue,\n      sliderValueEditable: colorPickerSliderValueEditable,\n      sliderLabel: colorPickerSliderLabel,\n      hexLabel: colorPickerHexLabel,\n      hexValueEditable: colorPickerHexValueEditable,\n      groupedModules: colorPickerGroupedModules,\n      // Same thing here. For now, we use predefined\n      // palettes. latter, maybe add user defined palettes\n      palette: colorPickerPalettes,\n      //formatValue: function (value) {\n      //  return 'rgba(' + value.rgba.join(', ') + ')';\n      //},\n      value: {\n        hex: colorPickerValue,\n      },\n      on : {\n        open: function(target) {\n          if (target.app.params.dark) {\n            target\n              .$el\n              .closest(\".modal-in\")\n              .addClass(\"theme-dark\");\n          }\n        }\n      }\n    });\n  },\n\n  find: function(scope) {\n    return $(scope).find(\".color-picker-input\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    var ID = $(el).attr(\"id\");\n    // below we get the hidden value field using\n    // vanilla JS\n    return document.getElementById(ID).value;\n  },\n\n  // see updateF7ColorPicker\n  setValue: function(el, value) {\n\n  },\n\n  // see updateF7ColorPicker\n  receiveMessage: function(el, data) {\n\n  },\n\n  subscribe: function(el, callback) {\n    $(el).on(\"change.f7ColorPickerBinding \", function(e) {\n      callback();\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7ColorPickerBinding \");\n  }\n});\n\nShiny.inputBindings.register(f7ColorPickerBinding, 'f7.colorpicker');","// Input binding\nvar f7DateBinding = new Shiny.InputBinding();\n\n$.extend(f7DateBinding, {\n  find: function(scope) {\n    return $(scope).find(\".date-input\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    console.log($(el).attr(\"value\"));\n    return $(el).attr(\"value\");\n  },\n\n  // see updateF7Calendar\n  setValue: function(el, value) {\n\n  },\n\n  // see updateF7Calendar\n  receiveMessage: function(el, data) {\n\n  },\n\n  subscribe: function(el, callback) {\n    $(el).on('keyup.dateInputBinding input.dateInputBinding', function(event) {\n      // Use normal debouncing policy when typing\n      callback(true);\n    });\n    $(el).on(\"change.f7DateBinding\", function(e) {\n      callback(false);\n    });\n  },\n\n  getRatePolicy: function() {\n    return {\n      policy: 'debounce',\n      delay: 250\n    };\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7DateBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7DateBinding, 'f7.date');","var f7DatePickerBinding = new Shiny.InputBinding();\n\n$.extend(f7DatePickerBinding, {\n\n  initialize: function(el) {\n\n    var inputEl = $(el)[0];\n\n    var config = $(el).parent().find(\"script[data-for='\" + el.id + \"']\");\n    config = JSON.parse(config.html());\n\n    if (!config.hasOwnProperty(\"value\")) {\n      config.value = [new Date()];\n    } else {\n      for (var i = 0; i < config.value.length; i++) {\n        config.value[i] = new Date(config.value[i]);\n      }\n    }\n\n    config.inputEl = inputEl;\n\n    //data.timePicker = true;\n    config.on = {\n      open: function(target) {\n        if (target.app.params.dark) {\n          target\n            .$el\n            .closest(\".modal-in\")\n            .addClass(\"theme-dark\");\n        }\n      }\n    }\n\n    // feed the create method\n    var calendar = app.calendar.create(config);\n    this[\"calendar-\" + el.id] = calendar;\n  },\n\n  find: function(scope) {\n    return $(scope).find(\".calendar-input\");\n  },\n\n  getType: function(el) {\n    return \"f7DatePicker.date\";\n  },\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    var val = this[\"calendar-\" + el.id].getValue();\n    var tmpDate;\n    if (val.length == 1) {\n      var tmpDate = new Date(this[\"calendar-\" + el.id].getValue());\n      tmpDate =  Date.UTC(\n        tmpDate.getFullYear(),\n        tmpDate.getMonth(),\n        tmpDate.getDate(),\n        tmpDate.getHours(),\n        tmpDate.getMinutes(),\n        tmpDate.getSeconds()\n      );\n      return new Date(tmpDate);\n    } else {\n      var dates = [];\n      for (var i = 0; i < val.length; i++) {\n        dates[i] = new Date(val[i]);\n        dates[i] = Date.UTC(\n          dates[i].getFullYear(),\n          dates[i].getMonth(),\n          dates[i].getDate(),\n          dates[i].getHours(),\n          dates[i].getMinutes(),\n          dates[i].getSeconds()\n        );\n        dates[i] = new Date(dates[i]);\n      }\n      return dates;\n    }\n  },\n\n  // see updateF7DatePicker\n  setValue: function(el, value) {\n    this[\"calendar-\" + el.id].setValue(value);\n  },\n\n  // see updateF7DatePicker\n  receiveMessage: function(el, data) {\n    if (data.hasOwnProperty(\"config\")) {\n      this[\"calendar-\" + el.id].destroy();\n      data.config.inputEl = el;\n      data.config.on = {\n        open: function(target) {\n          if (target.app.params.dark) {\n            $(target.$el).addClass(\"theme-dark\");\n          }\n        }\n      }\n      this[\"calendar-\" + el.id] = app.calendar.create(data.config);\n    }\n    if (data.hasOwnProperty(\"value\")) {\n      var tmpdate;\n      for (var i = 0; i < data.value.length; i++) {\n        tmpdate = new Date(data.value[i]);\n        data.value[i] = new Date(tmpdate.getFullYear(), tmpdate.getMonth(), tmpdate.getDate());\n      }\n      this.setValue(el, data.value);\n    }\n  },\n\n  subscribe: function(el, callback) {\n    $(el).on(\"change.f7DatePickerBinding\", function(e) {\n      callback();\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7DatePickerBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7DatePickerBinding, 'f7.datepicker');","// Input binding\nvar f7FabsBinding = new Shiny.InputBinding();\n\n$.extend(f7FabsBinding, {\n\n  find: function(scope) {\n    return $(scope).find(\".fab\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    var open = $(el).hasClass('fab-opened');\n    return(open);\n  },\n\n  // see updateF7Fabs\n  receiveMessage: function(el, data) {\n    // update Fabs\n    app.fab.toggle('#' + $(el).attr('id'));\n  },\n\n  subscribe: function(el, callback) {\n    $(el).on(\"fab:open.f7FabsBinding fab:close.f7FabsBinding\", function(e) {\n      callback();\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7FabsBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7FabsBinding, 'f7.fabs');\n\n//$(document).on('click', 'a.f7-action-button', function(event) {\n//  event.stopPropagation();\n//});","// Input binding\nvar f7LoginBinding = new Shiny.InputBinding();\n\n$.extend(f7LoginBinding, {\n\n  initialize: function(el) {\n    // feed the create method\n    var data = {};\n    data.el = '#' + $(el).attr(\"id\");\n    // specify animate false since true involves\n    // a significant delay before the modal shows up\n    data.animate = false;\n    data.on = {\n      open: function(target) {\n        if (target.app.params.dark) {\n          $(target.el).addClass(\"theme-dark\");\n        }\n      },\n      opened: function () {\n        $(el).trigger('shown');\n      }\n    };\n    var l = app.loginScreen.create(data);\n    // the login page should automatically open when inserted\n    // unless the start-open property is disable. This may happen\n    // for instance when one wants to trigger authentication only\n    // for a specific section of the app.\n    var startOpen = JSON.parse($(el).attr(\"data-start-open\"))[0];\n    if (startOpen) l.open();\n  },\n\n  find: function(scope) {\n    return $(scope).find(\".login-screen\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    var l = app.loginScreen.get($(el));\n    return l.opened;\n  },\n\n  // see updateF7Login\n  receiveMessage: function(el, data) {\n    var l = app.loginScreen.get($(el));\n    if (l.opened) {\n      // only close if valid password and user\n      if (data.user.length > 0 && data.password.length > 0) {\n        l.close();\n      } else {\n        app.dialog.alert('Please enter a valid password and user.');\n      }\n    } else {\n      l.open();\n    }\n  },\n\n  subscribe: function(el, callback) {\n    $(el).on(\"loginscreen:opened.f7LoginBinding loginscreen:closed.f7LoginBinding\", function(e) {\n      callback();\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7LoginBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7LoginBinding, 'f7.login');","// Input binding\nvar f7MenuBinding = new Shiny.InputBinding();\n\n$.extend(f7MenuBinding, {\n  find: function(scope) {\n    return $(scope).find(\".menu-item-dropdown\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    return $(el).hasClass(\"menu-item-dropdown-opened\");\n  },\n\n  // see updateF7Popup\n  receiveMessage: function(el, data) {\n    var isOpened = $(el).hasClass(\"menu-item-dropdown-opened\");\n    if (!isOpened) {\n      app.menu.open($(el));\n    }\n  },\n\n  subscribe: function(el, callback) {\n    $(el).on(\"menu:opened.f7MenuBinding menu:closed.f7MenuBinding\", function(e) {\n      callback();\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7MenuBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7MenuBinding, 'f7.menu');","// Input binding\nvar f7MessageBarBinding = new Shiny.InputBinding();\n\n$.extend(f7MessageBarBinding, {\n\n  initialize: function(el) {\n    app.messagebar.create({\n      el: '#' + $(el).attr('id')\n    });\n  },\n\n  // method to insert in the getValue method.\n  // This will automatically enable/disable the\n  // send button based on the current value.\n  // It also returns the text area value\n  setState: function(el) {\n    var val = app.messagebar.get($(el)).getValue();\n    var sendLink = $(el).find('#' + el.id + '-send');\n    if (!val.length) {\n      $(sendLink).addClass('disabled');\n    } else {\n      $(sendLink).removeClass('disabled');\n    }\n    return val;\n  },\n\n  find: function(scope) {\n    return $(scope).find(\".messagebar\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    return this.setState(el);\n  },\n\n  // see updatef7MessageBar\n  setValue: function(el, value) {\n    app.messagebar.get($(el)).setValue(value);\n  },\n\n  setPlaceholder: function(el, value) {\n    app.messagebar.get($(el)).setPlaceholder(value);\n  },\n\n  // see updatef7MessageBar\n  receiveMessage: function(el, data) {\n    if (data.hasOwnProperty('value')) {\n      this.setValue(el, data.value);\n    }\n\n    if (data.hasOwnProperty('placeholder')) {\n      this.setPlaceholder(el, data.placeholder);\n    }\n  },\n\n  subscribe: function(el, callback) {\n    $(el).on(\"input.f7MessageBarBinding change.f7MessageBarBinding focus.f7MessageBarBinding blur.f7MessageBarBinding\", function(e) {\n      // reset message bar textarea content when click on it\n      $(el).find('#' + el.id + '-send').on('click', function() {\n        // add delay between link click and textarea reset in f7MessageBar.\n        // Needed to give time so that f7Messages receives\n        // the textarea input value before it is cleared.\n        setTimeout(function() {\n          app.messagebar.get($(el)).clear().focus();\n        }, 1000);\n      });\n      callback(true);\n    });\n  },\n\n  getRatePolicy: function() {\n    return {\n      policy: 'debounce',\n      delay: 250\n    };\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7MessageBarBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7MessageBarBinding, 'f7.messagebar');","// Input binding\nvar f7MessagesBinding = new Shiny.InputBinding();\n\n$.extend(f7MessagesBinding, {\n\n  initialize: function(el) {\n    // for a proper layout!\n    $('.page-content').addClass('messages-content');\n\n    var id = $(el).attr('id');\n    var config = $(el).find(\"script[data-for='\" + id + \"']\");\n    config = JSON.parse(config.html());\n\n    config.el = '#' + id;\n\n    // First message rule\n  config.firstMessageRule = function (message, previousMessage, nextMessage) {\n    // Skip if title\n    if (message.isTitle) return false;\n    /* if:\n      - there is no previous message\n      - or previous message type (send/received) is different\n      - or previous message sender name is different\n    */\n    if (!previousMessage || previousMessage.type !== message.type || previousMessage.name !== message.name) return true;\n    return false;\n  };\n\n  // Last message rule\n  config.lastMessageRule = function (message, previousMessage, nextMessage) {\n    // Skip if title\n    if (message.isTitle) return false;\n    /* if:\n      - there is no next message\n      - or next message type (send/received) is different\n      - or next message sender name is different\n    */\n    if (!nextMessage || nextMessage.type !== message.type || nextMessage.name !== message.name) return true;\n    return false;\n  };\n\n  // Last message rule\n  config.tailMessageRule = function (message, previousMessage, nextMessage) {\n    // Skip if title\n    if (message.isTitle) return false;\n      /* if (bascially same as lastMessageRule):\n      - there is no next message\n      - or next message type (send/received) is different\n      - or next message sender name is different\n    */\n    if (!nextMessage || nextMessage.type !== message.type || nextMessage.name !== message.name) return true;\n    return false;\n  };\n\n    // feed the create method\n    app.messages.create(config);\n  },\n\n  find: function(scope) {\n    return $(scope).find(\".messages\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    return app.messages.get($(el)).messages;\n  },\n\n  // see updatef7Messages\n  setValue: function(el, value) {\n    responseInProgress = true;\n    var messages = app.messages.get($(el));\n\n    if (value.showTyping) {\n      // Show typing indicator\n      var who = value.value.pop().name;\n      setTimeout(function () {\n        messages.showTyping({\n          header: who + ' is typing'\n        });\n\n        setTimeout(function () {\n          messages.addMessages(value.value);\n          // Hide typing indicator\n          messages.hideTyping();\n          responseInProgress = false;\n        }, 1000);\n      }, 500);\n    } else {\n      messages.addMessages(value.value);\n    }\n  },\n\n  // see updatef7Messages\n  receiveMessage: function(el, data) {\n    var responseInProgress = false;\n    if (responseInProgress) return;\n    this.setValue(el, data);\n    $(el).trigger('change');\n  },\n\n  subscribe: function(el, callback) {\n    $(el).on(\"change.f7MessagesBinding\", function(e) {\n      callback();\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7MessagesBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7MessagesBinding, 'f7.messages');","// Input binding\nvar f7PanelBinding = new Shiny.InputBinding();\n\n$.extend(f7PanelBinding, {\n\n  initialize: function(el) {\n    var data = {};\n    // add id\n    data.el = '#' + $(el).attr('id');\n    // this is to show shiny outputs in the sheet\n    data.on = {\n      opened: function () {\n        $(el).trigger('shown');\n      }\n    };\n    app.panel.create(data);\n  },\n\n  find: function(scope) {\n    return $(scope).find(\".panel\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    var p = app.panel.get($(el));\n    return p.opened;\n  },\n\n  // see updateF7Panel\n  receiveMessage: function(el, data) {\n    // create a variable to update the panel\n    var p = app.panel.get($(el));\n    p.toggle(p.side);\n  },\n\n  subscribe: function(el, callback) {\n    $(el).on(\"panel:open.f7PanelBinding panel:close.f7PanelBinding\", function(e) {\n      callback();\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7PanelBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7PanelBinding, 'f7.panel');","// Input binding\nvar f7PanelMenuBinding = new Shiny.InputBinding();\n\n$.extend(f7PanelMenuBinding, {\n\n  find: function(scope) {\n    return $(scope).find(\".panel-menu\");\n  },\n\n  // This is necessary to activate the good tab at start.\n  // If one tab is active, it has a tab-link-active class.\n  // We then trigger the show function on that tab.\n  // If no tab is active at start, the first tab is shown by default.\n  initialize: function(el) {\n    var firstPanelId = $(el).find(\"a\").first().data('tab');\n    var panelActiveId = $(el).find(\"a.tab-link-active\").data('tab');\n    if (panelActiveId !== undefined) {\n      app.tab.show(panelActiveId);\n    } else {\n      app.tab.show(firstPanelId);\n    }\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    var activeTab = $(el)\n      .find(\"a.tab-link-active\")\n      .data('tab');\n\n    if (activeTab !== undefined) {\n      return activeTab.split('#')[1];\n    } else {\n      return null;\n    }\n  },\n\n  // see updateF7Tabs\n  receiveMessage: function(el, data) {\n    // update the active tab\n    if (data.hasOwnProperty('selected')) {\n      app.tab.show('#' + data.ns + '-' + data.selected);\n    }\n  },\n\n  subscribe: function(el, callback) {\n    $(el).find(\"a\").on(\"click.f7PanelMenuBinding\", function(e) {\n      $($(this).data(\"tab\")).trigger(\"shown\").trigger(\"shown\");\n        callback(false);\n    });\n\n    app.on(\"tabShow.f7PanelMenuBinding\", function(tab) {\n      callback(false);\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7PanelMenuBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7PanelMenuBinding, 'f7.tabsMenu');","// Input binding\nvar f7PickerBinding = new Shiny.InputBinding();\n\n$.extend(f7PickerBinding, {\n\n  initialize: function(el) {\n\n    var inputEl = $(el)[0];\n\n    // convert data attributes to camelCase parameters\n    // necessary in the create method\n    var data = {};\n    [].forEach.call(el.attributes, function(attr) {\n      if (/^data-/.test(attr.name)) {\n        var camelCaseName = attr.name.substr(5).replace(/-(.)/g, function ($0, $1) {\n          return $1.toUpperCase();\n        });\n        // convert \"true\" to true and \"false\" to false only for booleans\n        if ([\"openIn\", \"toolbarCloseText\", \"choices\", \"value\"].indexOf(camelCaseName) == -1) {\n          var isTrueSet = (attr.value == 'true');\n          data[camelCaseName] = isTrueSet;\n        } else {\n          data[camelCaseName] = attr.value;\n        }\n      }\n    });\n\n    // add the id, value and choices\n    data.inputEl = inputEl;\n    data.value = JSON.parse(data.value);\n    data.cols = [\n      {\n        textAlign: 'center',\n        values: JSON.parse(data.choices)\n      }\n    ];\n\n    data.on = {\n      open: function(target) {\n        if (target.app.params.dark) {\n          target\n            .$el\n            .closest(\".modal-in\")\n            .addClass(\"theme-dark\");\n        }\n      }\n    }\n\n    // feed the create method\n    var p = app.picker.create(data);\n    inputEl.f7Picker = p;\n  },\n\n  find: function(scope) {\n    return $(scope).find(\".picker-input\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    var p = app.picker.get($(el));\n    return p.value;\n  },\n\n  // see updateF7Picker\n  setValue: function(el, value) {\n    var p = app.picker.get($(el));\n    p.value = value;\n    p.displayValue = value;\n    p.open();\n    setTimeout(function() {p.close();}, 10);\n  },\n\n  // see updateF7Picker\n  receiveMessage: function(el, data) {\n    var p = app.picker.get($(el));\n    // Update value\n    if (data.hasOwnProperty('value')) {\n      this.setValue(el, data.value);\n    }\n    // update choices\n    if (data.hasOwnProperty('choices')) {\n      p.cols[0].values = data.choices;\n    }\n    // update other properties\n    if (data.hasOwnProperty('rotateEffect')) {\n      p.params.rotateEffect = data.rotateEffect;\n    }\n    if (data.hasOwnProperty('openIn')) {\n      p.params.openIn = data.openIn;\n    }\n    if (data.hasOwnProperty('scrollToInput')) {\n      p.params.scrollToInput = data.scrollToInput;\n    }\n    if (data.hasOwnProperty('closeByOutsideClick')) {\n      p.params.closeByOutsideClick = data.closeByOutsideClick;\n    }\n    if (data.hasOwnProperty('toolbar')) {\n      p.params.toolbar = data.toolbar;\n    }\n    if (data.hasOwnProperty('toolbarCloseText')) {\n      p.params.toolbarCloseText = data.toolbarCloseText;\n    }\n    if (data.hasOwnProperty('sheetSwipeToClose')) {\n      p.params.sheetSwipeToClose = data.sheetSwipeToClose;\n    }\n  },\n\n  subscribe: function(el, callback) {\n    $(el).on(\"change.f7PickerBinding\", function(e) {\n      callback();\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7PickerBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7PickerBinding, 'f7.picker');","let $escape = Shiny.$escape;\n\nfunction updateLabel(labelTxt, labelNode) {\n  // Only update if label was specified in the update method\n  if (typeof labelTxt === \"undefined\") return;\n  if (labelNode.length !== 1) {\n    throw new Error(\"labelNode must be of length 1\");\n  }\n\n  // Should the label be empty?\n  var emptyLabel = $.isArray(labelTxt) && labelTxt.length === 0;\n\n  if (emptyLabel) {\n    labelNode.addClass(\"shiny-label-null\");\n  } else {\n    labelNode.text(labelTxt);\n    labelNode.removeClass(\"shiny-label-null\");\n  }\n\n}\n\nvar radioInputBinding = new Shiny.InputBinding();\n$.extend(radioInputBinding, {\n  find: function(scope) {\n    return $(scope).find('.shiny-input-radiogroup');\n  },\n  getValue: function(el) {\n    // Select the radio objects that have name equal to the grouping div's id\n    var checked_items = $('input:radio[name=\"' + $escape(el.id) + '\"]:checked');\n\n    if (checked_items.length === 0) {\n      // If none are checked, the input will return null (it's the default on load,\n      // but it wasn't emptied when calling updateRadioButtons with character(0)\n      return null;\n    }\n\n    return checked_items.val();\n  },\n  setValue: function(el, value) {\n    if ($.isArray(value) && value.length === 0) {\n      // Removing all checked item if the sent data is empty\n      $('input:radio[name=\"' + $escape(el.id) + '\"]').prop('checked', false);\n    } else {\n      $('input:radio[name=\"' + $escape(el.id) + '\"][value=\"' + $escape(value) + '\"]').prop('checked', true);\n    }\n\n  },\n  getState: function(el) {\n    var $objs = $('input:radio[name=\"' + $escape(el.id) + '\"]');\n\n    // Store options in an array of objects, each with with value and label\n    var options = new Array($objs.length);\n    for (var i = 0; i < options.length; i++) {\n      options[i] = { value:   $objs[i].value,\n                     label:   this._getLabel($objs[i]) };\n    }\n\n    return {\n      label:    this._getLabelNode(el).text(),\n      value:    this.getValue(el),\n      options:  options\n    };\n  },\n  receiveMessage: function(el, data) {\n    var $el = $(el);\n    // This will replace all the options\n    if (data.hasOwnProperty('options')) {\n      // Clear existing options and add each new one\n      $el.find('ul').remove();\n      $el.append(data.options);\n    }\n\n    if (data.hasOwnProperty('value'))\n      this.setValue(el, data.value);\n\n    updateLabel(data.label, this._getLabelNode(el));\n\n    $(el).trigger('change');\n  },\n  subscribe: function(el, callback) {\n    $(el).on('change.radioInputBinding', function(event) {\n      callback();\n    });\n  },\n  unsubscribe: function(el) {\n    $(el).off('.radioInputBinding');\n  },\n  // Get the DOM element that contains the top-level label\n  _getLabelNode: function(el) {\n      return $(el).siblings('div.block-title');\n  },\n  // Given an input DOM object, get the associated label. Handles labels\n  // that wrap the input as well as labels associated with 'for' attribute.\n  _getLabel: function(obj) {\n    // If <label><input /><span>label text</span></label>\n    if (obj.parentNode.tagName === \"LABEL\") {\n      return $(obj.parentNode).find('div.item-title').text().trim();\n    }\n\n    return null;\n  },\n  // Given an input DOM object, set the associated label. Handles labels\n  // that wrap the input as well as labels associated with 'for' attribute.\n  _setLabel: function(obj, value) {\n    // If <label><input /><span>label text</span></label>\n    if (obj.parentNode.tagName === \"LABEL\") {\n      $(obj.parentNode).find('div.item-title').text(value);\n    }\n\n    return null;\n  }\n\n});\nShiny.inputBindings.register(radioInputBinding, 'shiny.radioInput');\n","// Input binding\nvar f7SelectBinding = new Shiny.InputBinding();\n\n$.extend(f7SelectBinding, {\n\n  find: function(scope) {\n    return $(scope).find(\".input-select\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    return $(el).val();\n  },\n\n  // see updateF7Select\n  setValue: function(el, value) {\n    // select the new item\n    $(el).val(value);\n  },\n\n  // see updateF7Select\n  receiveMessage: function(el, data) {\n    if (data.hasOwnProperty(\"selected\")) {\n      this.setValue(el, data.selected);\n    }\n    $(el).trigger(\"change\");\n  },\n\n  subscribe: function(el, callback) {\n    $(el).on(\"change.f7SelectBinding\", function(e) {\n      // no need to debounce here\n      callback();\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7SelectBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7SelectBinding, 'f7.select');","// Input binding\nvar f7SheetBinding = new Shiny.InputBinding();\n\n$.extend(f7SheetBinding, {\n\n  initialize: function(el) {\n\n    // recover the inputId passed in the R function\n    var id = $(el).attr(\"id\");\n\n    var data = {};\n    [].forEach.call(el.attributes, function(attr) {\n      if (/^data-/.test(attr.name)) {\n        var camelCaseName = attr.name.substr(5).replace(/-(.)/g, function ($0, $1) {\n          return $1.toUpperCase();\n        });\n        // convert \"true\" to true and \"false\" to false\n        var isTrueSet = (attr.value == \"true\");\n        data[camelCaseName] = isTrueSet;\n      }\n    });\n\n    // add the id\n    data.el = '#' + id;\n\n    // this is to show shiny outputs in the sheet\n    data.on = {\n      open: function(target) {\n        if (target.app.params.dark) {\n          $(target.el).addClass(\"theme-dark\");\n        }\n      },\n      opened: function () {\n        $(el).trigger('shown');\n      }\n    };\n\n    // feed the create method\n    var s = app.sheet.create(data);\n  },\n\n  find: function(scope) {\n    return $(scope).find(\".sheet-modal\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    var s = app.sheet.get($(el));\n    return s.opened;\n  },\n\n  // see updateF7Sheet\n  receiveMessage: function(el, data) {\n    var s = app.sheet.get($(el));\n    if (s.opened) {\n      s.close();\n    } else {\n      s.open();\n    }\n  },\n\n  subscribe: function(el, callback) {\n    // need to subscribe after open and close\n    // therefore we listen to opened and closed, respectively\n    $(el).on(\"sheet:open.f7SheetBinding sheet:close.f7SheetBinding\", function(e) {\n      callback();\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7SheetBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7SheetBinding, 'f7.sheet');\n","// Input binding\nvar f7SliderBinding = new Shiny.InputBinding();\n\n$.extend(f7SliderBinding, {\n\n  initialize: function(el) {\n\n    // recover the inputId passed in the R function\n    var id = $(el).attr(\"id\");\n\n    var data = {};\n    [].forEach.call(el.attributes, function(attr) {\n      if (/^data-/.test(attr.name)) {\n        var camelCaseName = attr.name.substr(5).replace(/-(.)/g, function ($0, $1) {\n          return $1.toUpperCase();\n        });\n        // convert \"true\" to true and \"false\" to false\n        if ([\"min\", \"max\", \"step\", \"value\",\n        \"scaleSteps\", \"scaleSubSteps\",\n        \"valueLeft\", \"valueRight\"].indexOf(camelCaseName) == -1) {\n          var isTrueSet = (attr.value == \"true\");\n          data[camelCaseName] = isTrueSet;\n        } else {\n          // convert strings to numeric\n          data[camelCaseName] = parseFloat(attr.value);\n        }\n\n      }\n    });\n\n     // add the id\n    data.el = '#' + id;\n\n    // feed the create method\n    var r = app.range.create(data);\n\n  },\n\n  find: function(scope) {\n    return $(scope).find(\".range-slider\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    return app.range.get($(el)).value;\n  },\n\n  // see updateF7Slider\n  setValue: function(el, value) {\n    app.range.setValue(el, value);\n  },\n\n  // see updateF7Slider\n  receiveMessage: function(el, data) {\n    // create a variable to update the range\n    var r = app.range.get($(el));\n    if (data.hasOwnProperty('min')) {\n      r.min = data.min;\n      // re render the scale\n      r.updateScale();\n    }\n    if (data.hasOwnProperty('max')) {\n      r.max = data.max;\n      // re render the scale\n      r.updateScale();\n    }\n    if (data.hasOwnProperty('step')) {\n      r.step = data.step;\n      // re render the scale\n      r.updateScale();\n    }\n\n    if (data.hasOwnProperty('scaleSteps')) {\n      r.scaleSteps = data.scaleSteps;\n      // re render the scale\n      r.updateScale();\n    }\n\n    if (data.hasOwnProperty('scaleSubSteps')) {\n      r.scaleSubSteps = data.scaleSubSteps;\n      // re render the scale\n      r.updateScale();\n    }\n\n    // need to apply this after rendering the scale\n    if (data.hasOwnProperty('scale')) {\n      r.scale = data.scale;\n    }\n\n    // important: need to update the scale before\n    // updating the value. Otherwise the value will\n    // be diplayed in the old scale, which is weird...\n    if (data.hasOwnProperty('value')) {\n      // handle the case where the updated slider\n      // switch from a dual value to a single value slider.\n      var val = data.value;\n      if ($.isArray(val)) {\n        this.setValue(el, val);\n      } else {\n        r.dual = false;\n        r.updateScale();\n        this.setValue(el, val);\n      }\n    }\n\n    // update color\n    if (data.hasOwnProperty('color')) {\n      $(el).removeClass (function (index, className) {\n        return (className.match (/(^|\\s)color-\\S+/g) || []).join(' ');\n      });\n      $(el).addClass('color-' + data.color);\n    }\n\n  },\n\n  subscribe: function(el, callback) {\n    $(el).on(\"range:change.f7SliderBinding\", function(e) {\n      callback(true);\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7SliderBinding\");\n  },\n\n  // The input rate limiting policy\n  getRatePolicy: function() {\n    return {\n      // Can be 'debounce' or 'throttle'\n      policy: 'debounce',\n      delay: 250\n    };\n  }\n});\n\nShiny.inputBindings.register(f7SliderBinding, 'f7.range');","// Input binding\nvar f7SmartSelectBinding = new Shiny.InputBinding();\n\n$.extend(f7SmartSelectBinding, {\n\n  initialize: function(el) {\n    var id = $(el).attr('id');\n    var config = $(el).children().eq(2);\n    config = JSON.parse(config.html());\n    config.el = '#' + id;\n    // feed the create method\n    config.on = {\n      open: function(target) {\n        if (target.app.params.dark) {\n          $(target.$containerEl).addClass(\"theme-dark\");\n        }\n      }\n    }\n    var ss = app.smartSelect.create(config);\n    this[\"smart-select-\" + el.id] = ss;\n  },\n\n  find: function(scope) {\n    return $(scope).find(\".smart-select\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    return this[\"smart-select-\" + el.id].getValue();\n  },\n\n  // see updateF7SmartSelect\n  setValue: function(el, value) {\n    this[\"smart-select-\" + el.id].setValue(value);\n  },\n\n  // see updateF7SmartSelect\n  receiveMessage: function(el, data) {\n    // update config\n    data.config.on = {\n      open: function(target) {\n        if (target.app.params.dark) {\n          $(target.$containerEl).addClass(\"theme-dark\");\n        }\n      }\n    }\n    if (data.hasOwnProperty(\"config\")) {\n      this[\"smart-select-\" + el.id].destroy();\n      data.config.el = '#' + $(el).attr('id');\n      this[\"smart-select-\" + el.id] = app.smartSelect.create(data.config);\n    }\n\n    // ad multiple property\n    if (data.hasOwnProperty(\"multiple\")) {\n      // we need to destroy the input, modify the tag and create the instance\n      if (data.multiple) {\n        this[\"smart-select-\" + el.id].destroy();\n        $(el).find('select').attr('multiple', '');\n        data.config.el = '#' + $(el).attr('id');\n        this[\"smart-select-\" + el.id] = app.smartSelect.create(data.config);\n      }\n    }\n\n    // max length\n    if (data.hasOwnProperty(\"maxLength\")) {\n      this[\"smart-select-\" + el.id].destroy();\n      $(el).find('select').attr('maxLength', data.maxLength);\n      data.config.el = '#' + $(el).attr('id');\n      this[\"smart-select-\" + el.id] = app.smartSelect.create(data.config);\n    }\n\n    // update choices\n    var setOption = function(value) {\n      return \"<option value = '\" + value + \"'>\" + value + \"</option>\";\n    };\n\n    if (data.hasOwnProperty(\"choices\")) {\n      // clear all previous options\n      $(el).find(\"select\").empty();\n      // add new choices\n      $.each(data.choices, function (index) {\n        var temp = data.choices[index];\n        $(el).find(\"select\").append(setOption(temp));\n      });\n    }\n\n    // update selected\n    if (data.hasOwnProperty(\"selected\")) {\n      this.setValue(el, data.selected);\n    }\n  },\n\n  subscribe: function(el, callback) {\n    $(el).on(\"change.f7SmartSelectBinding\", function(e) {\n      callback();\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7SmartSelectBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7SmartSelectBinding, 'f7.smartselect');","// Input binding\nvar f7StepperBinding = new Shiny.InputBinding();\n\n$.extend(f7StepperBinding, {\n\n  initialize: function(el) {\n\n    // recover the inputId passed in the R function\n    var id = $(el).attr(\"id\");\n\n    var data = {};\n    [].forEach.call(el.attributes, function(attr) {\n      if (/^data-/.test(attr.name)) {\n        var camelCaseName = attr.name.substr(5).replace(/-(.)/g, function ($0, $1) {\n          return $1.toUpperCase();\n        });\n        // convert \"true\" to true and \"false\" to false\n        if ([\"min\", \"max\", \"step\", \"value\", \"decimalPoint\"].indexOf(camelCaseName) == -1) {\n          var isTrueSet = (attr.value == 'true');\n          data[camelCaseName] = isTrueSet;\n        } else {\n          // convert strings to numeric\n          data[camelCaseName] = parseFloat(attr.value);\n        }\n\n      }\n    });\n\n    // add the id\n    data.el = '#' + id;\n\n    // feed the create method\n    var s = app.stepper.create(data);\n\n    // add readonly attr if the stepper is initially\n    // not in manual mode\n    if (!data.manualInputMode) {\n      var inputTarget = $(el).find('input');\n      $(inputTarget).attr('readonly', '');\n    }\n  },\n\n  find: function(scope) {\n    return $(scope).find(\".stepper\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    return app.stepper.get($(el)).value;\n  },\n\n  // see updateF7Stepper\n  setValue: function(el, value) {\n    app.stepper.setValue(el, value);\n  },\n\n  // the 2 methods below are needed by incrementF7Stepper\n  // and decrementF7Stepper\n  increment: function() {\n    app.stepper.increment();\n  },\n\n  decrement: function() {\n    app.stepper.decrement();\n  },\n\n  // see updateF7Stepper\n  receiveMessage: function(el, data) {\n    // create a variable to update the stepper\n    var s = app.stepper.get($(el));\n\n    // for some reason, we need to update both\n    // min and params.min fields\n    if (data.hasOwnProperty('min')) {\n      s.min = data.min;\n      s.params.min = data.min;\n    }\n    // for some reason, we need to update both\n    // max and params.max fields\n    if (data.hasOwnProperty('max')) {\n      s.max = data.max;\n      s.params.max = data.max;\n    }\n    if (data.hasOwnProperty('wraps')) {\n      s.params.wraps = data.wraps;\n    }\n    if (data.hasOwnProperty('decimalPoint')) {\n      s.decimalPoint = data.decimalPoint;\n      s.params.decimalPoint = data.decimalPoint;\n    }\n\n    // handle the readOnly property\n    if (data.hasOwnProperty('manual')) {\n      s.params.manualInputMode = data.manual;\n      var inputTarget = $(el).find('input');\n      if (data.manual) {\n        if (typeof $(inputTarget).attr('readonly') !== typeof undefined) {\n          $(inputTarget).removeAttr('readonly');\n        }\n      } else {\n        $(inputTarget).attr('readonly', '');\n      }\n    }\n    // for some reason, we need to update both\n    // step and params.step fields\n    if (data.hasOwnProperty('step')) {\n      s.step = data.step;\n      s.params.step = data.step;\n    }\n\n    // this does not work\n    if (data.hasOwnProperty('autorepeat')) {\n      s.params.autorepeat = data.autorepeat;\n      s.params.autorepeatDynamic = data.autorepeat;\n    }\n\n    // CSS properties\n    if (data.hasOwnProperty('rounded')) {\n      if (data.rounded) {\n        $(el).addClass(\"stepper-round\");\n      } else {\n        $(el).removeClass(\"stepper-round\");\n      }\n    }\n    if (data.hasOwnProperty('raised')) {\n      if (data.raised) {\n        $(el).addClass('stepper-raised');\n      } else {\n        $(el).removeClass('stepper-raised');\n      }\n    }\n    if (data.hasOwnProperty('color')) {\n      $(el).removeClass (function (index, className) {\n        return (className.match (/(^|\\s)color-\\S+/g) || []).join(' ');\n      });\n      $(el).addClass('color-' + data.color);\n    }\n\n    // stepper size\n    if (data.hasOwnProperty('size')) {\n      if ($(el).hasClass('stepper-small') || $(el).hasClass('stepper-large')) {\n        if ($(el).hasClass('stepper-small') && data.size == \"large\") {\n          $(el).removeClass('stepper-small');\n          $(el).addClass('stepper-large');\n        } else if ($(el).hasClass('stepper-large') && data.size == \"small\") {\n          $(el).addClass('stepper-small');\n          $(el).removeClass('stepper-large');\n        }\n      } else {\n        if (data.size == \"small\") {\n          $(el).addClass('stepper-small');\n        } else if (data.size == \"large\") {\n          $(el).addClass('stepper-large');\n        }\n      }\n    }\n\n    // Update value\n    if (data.hasOwnProperty('value')) {\n      this.setValue(el, data.value);\n      s.params.value = data.value;\n    }\n  },\n\n  subscribe: function(el, callback) {\n    $(el).on('stepper:change.f7StepperBinding', function(e) {\n      // no need to debounce here\n      // except if autorepeat is set\n      // then we send the value once\n      // the + or - buttons is released\n      var s = app.stepper.get($(el));\n      if (s.params.autorepeat) {\n        callback(true);\n      } else {\n        callback();\n      }\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off('.f7StepperBinding');\n  },\n\n  // The input rate limiting policy\n  getRatePolicy: function() {\n    return {\n      // Can be 'debounce' or 'throttle'\n      policy: 'debounce',\n      delay: 500\n    };\n  }\n});\n\nShiny.inputBindings.register(f7StepperBinding, 'f7.stepper');","// Input binding\nvar f7TabsBinding = new Shiny.InputBinding();\n\n$.extend(f7TabsBinding, {\n\n  find: function(scope) {\n    return $(scope).find(\".tabs\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    var activeTab;\n    if ($(el).hasClass('standalone')) {\n      activeTab = $(el).find(\".tab-active\");\n    } else {\n      activeTab = $(el).find(\".page-content.tab-active\");\n    }\n    // below to handle hidden tabs\n    // the android highlight bar must not be\n    // present since hidden tabs are not part of\n    // the menu.\n    if ($(activeTab).data('hidden')) {\n      $('.tab-link-highlight').hide();\n    } else {\n      $('.tab-link-highlight').show();\n    }\n    return $(activeTab).attr(\"data-value\") !== undefined ? $(activeTab).attr(\"data-value\"): null;\n  },\n\n  // see updateF7Tabs\n  receiveMessage: function(el, data) {\n    // update the active tab\n    if (data.hasOwnProperty('selected')) {\n      app.tab.show('#' + data.ns + '-' + data.selected);\n    }\n  },\n\n  subscribe: function(el, callback) {\n    $(el).on(\"tab:show.f7TabsBinding\", function(e) {\n      $(el).trigger('shown');\n      callback();\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7TabsBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7TabsBinding, 'f7.tabs');","// Input binding\nvar f7ToggleBinding = new Shiny.InputBinding();\n\n$.extend(f7ToggleBinding, {\n\n  initialize: function(el) {\n    app.toggle.create({el: el});\n  },\n\n  find: function(scope) {\n    return $(scope).find(\".toggle\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    return app.toggle.get($(el)).checked;\n  },\n\n  // see updateF7Toggle\n  setValue: function(el, value) {\n    var t = app.toggle.get($(el));\n    t.checked = value;\n  },\n\n  // see updateF7Toggle\n  receiveMessage: function(el, data) {\n    if (data.hasOwnProperty(\"checked\")) {\n      this.setValue(el, data.checked);\n    }\n    if (data.hasOwnProperty(\"color\")) {\n      $(el).removeClass (function (index, className) {\n    return (className.match (/(^|\\s)color-\\S+/g) || []).join(' ');\n});\n      $(el).addClass(\"color-\" + data.color);\n    }\n  },\n\n  subscribe: function(el, callback) {\n    $(el).on(\"toggle:change.f7ToggleBinding\", function(e) {\n      // no need to debounce here\n      callback();\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7ToggleBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7ToggleBinding, 'f7.toggle');","// Input binding\nvar f7VirtualListBinding = new Shiny.InputBinding();\n\n$.extend(f7VirtualListBinding, {\n\n  // decode html so that images tag are converted to strings\n  decodeHTML: function (html) {\n    var txt = document.createElement('textarea');\n\t  txt.innerHTML = html;\n\t  return txt.value;\n  },\n\n  initialize: function(el) {\n    var id = $(el).attr('id');\n    var config = $(el).find(\"script[data-for='\" + id + \"']\");\n    config = JSON.parse(config.html());\n\n    config.el = '#' + id;\n\n    // treat all item images\n    for (var item of config.items) {\n      if (item.media.length > 0) {\n        item.media = '<div class=\"item-media\">' + this.decodeHTML(item.media) + '</div>';\n      }\n    }\n\n    var template;\n    if (config.items[0].url === undefined) {\n        template = '<li>' +\n  '<div class=\"item-content\">' +\n    '{{media}}' +\n    '<div class=\"item-inner\">' +\n      '<div class=\"item-title-row\">' +\n        '<div class=\"item-title\">' +\n          '<div class=\"item-header\">{{header}}</div>' +\n          '{{title}}' +\n          '<div class=\"item-footer\">{{footer}}</div>' +\n        '</div>' +\n        '<div class=\"item-after\">{{right}}</div>' +\n      '</div>' +\n      '<div class=\"item-subtitle\">{{subtitle}}</div>' +\n      '<div class=\"item-text\">{{content}}</div>' +\n    '</div>' +\n  '</div>' +\n'</li>';\n      } else {\n        template = '<li>' +\n  '<a class=\"item-link item-content external\" href=\"url\" target=\"_blank\">' +\n    '{{media}}' +\n    '<div class=\"item-inner\">' +\n      '<div class=\"item-title-row\">' +\n        '<div class=\"item-title\">' +\n          '<div class=\"item-header\">{{header}}</div>' +\n          '{{title}}' +\n          '<div class=\"item-footer\">{{footer}}</div>' +\n        '</div>' +\n        '<div class=\"item-after\">{{right}}</div>' +\n      '</div>' +\n      '<div class=\"item-subtitle\">{{subtitle}}</div>' +\n      '<div class=\"item-text\">{{content}}</div>' +\n    '</div>' +\n  '</a>' +\n'</li>';\n      }\n    config.itemTemplate = template;\n\n    // Custom search function for searchbar\n    config.searchAll = function (query, items) {\n      var found = [];\n      for (var i = 0; i < items.length; i++) {\n        if (items[i].title.toLowerCase().indexOf(query.toLowerCase()) >= 0 || query.trim() === '') found.push(i);\n      }\n      return found; //return array with mathced indexes\n    };\n\n    // Item height\n    config.height = config.items[0].media !== undefined ? app.theme === 'ios' ? 112 : (app.theme === 'md' ? 132 : 78) : (app.theme === 'ios' ? 63 : (app.theme === 'md' ? 73 : 46));\n\n    // feed the create method\n    app.virtualList.create(config);\n  },\n\n  find: function(scope) {\n    return $(scope).find(\".virtual-list\");\n  },\n\n  // Given the DOM element for the input, return the value\n  getValue: function(el) {\n    var vl = app.virtualList.get($(el));\n    return {\n      length: vl.items.length,\n      current_from: vl.currentFromIndex + 1,\n      current_to: vl.currentToIndex + 1,\n      reach_end: vl.reachEnd\n    };\n  },\n\n  // see updateF7VirtualList\n  setValue: function(el, value) {\n    var vl = app.virtualList.get($(el));\n    vl.resetFilter();\n\n    var addImageWrapper = function(items) {\n      var temp;\n      // handle single item\n      if (items.length === undefined) {\n        temp = `<div class=\"item-media\">${items.media}</div>`;\n        items.media = temp;\n      } else {\n        for (var i = 0; i < items.length; i++) {\n          temp = `<div class=\"item-media\">${items[i].media}</div>`;\n          items[i].media = temp;\n        }\n      }\n      return(items);\n    };\n\n    switch (value.action) {\n      case 'appendItem':\n        vl.appendItem(addImageWrapper(value.item));\n        break;\n      case 'prependItem':\n        vl.prependItem(addImageWrapper(value.item));\n        break;\n      case 'appendItems':\n        vl.appendItems(addImageWrapper(value.items));\n        break;\n      case 'prependItems':\n        vl.prependItems(addImageWrapper(value.items));\n        break;\n      case 'replaceItem':\n        vl.replaceItem(value.index, value.item);\n        break;\n      case 'replaceAllItems':\n        vl.replaceAllItems(value.items);\n        break;\n      case 'moveItem':\n        vl.moveItem(value.oldIndex, value.newIndex);\n        break;\n      case 'insertItemBefore':\n        vl.insertItemBefore(value.index, addImageWrapper(value.item));\n        break;\n      case 'filterItems':\n         vl.filterItems(value.indexes);\n        break;\n      case 'deleteItem':\n        vl.deleteItem(value.index);\n        break;\n      case 'deleteAllItems':\n        vl.deleteAllItems(value.indexes);\n        break;\n      case 'scrollToItem':\n        vl.scrollToItem(value.index);\n        break;\n      default:\n        //console.log('');\n    }\n\n    $(el).trigger('change');\n  },\n\n  // see updateF7VirtualList\n  receiveMessage: function(el, data) {\n    this.setValue(el, data);\n  },\n\n  subscribe: function(el, callback) {\n    $(el).on(\"change.f7VirtualListBinding\", function(e) {\n      callback();\n    });\n  },\n\n  unsubscribe: function(el) {\n    $(el).off(\".f7VirtualListBinding\");\n  }\n});\n\nShiny.inputBindings.register(f7VirtualListBinding, 'f7.virtuallist');"]}
