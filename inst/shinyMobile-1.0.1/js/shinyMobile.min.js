$((function(){var e=$(document).find("script[data-for='app']");e=JSON.parse(e.html());var n="true"===$("body").attr("data-pwa");if(e.root="#app",n&&(e.serviceWorker={path:window.location.pathname+"service-worker.js",scope:window.location.pathname}),e.methods={toggleDarkTheme:function(){this.$(".view-main").toggleClass("theme-dark")}},e.data=function(){return{popovers:[],tooltips:[],actions:[]}},app=new Framework7(e),mainView=app.views.create(".view-main"),e.hasOwnProperty("dark")||(e.dark=!1),e.dark&&app.methods.toggleDarkTheme(),app.device.desktop||$("<style>").prop("type","text/css").html("-webkit-user-select: none;\n         -khtml-user-select: none;\n         -moz-user-select: none;\n         -ms-user-select: none;\n         user-select: none;\n         -webkit-tap-highligth-color: transparent;\n         -webkit-touch-callout: none;\n        ").appendTo("head"),e.hasOwnProperty("color")){var t=app.utils.colorThemeCSSProperties(e.color);$("<style>").prop("type","text/css").html(`:root {\n        --f7-theme-color: ${t["--f7-theme-color"]};\n        --f7-theme-color-rgb: ${t["--f7-theme-color-rgb"]};\n        --f7-theme-color-shade: ${t["--f7-theme-color-shade"]};\n        --f7-theme-color-tint: ${t["--f7-theme-color-tint"]};\n      }`).appendTo("head")}if(e.hasOwnProperty("filled")||(e.filled=!1),e.filled){$("<style>").prop("type","text/css").html("\n    :root,\n    :root.theme-dark,\n    :root .theme-dark {\n      --f7-bars-bg-color: var(--f7-theme-color);\n      --f7-bars-bg-color-rgb: var(--f7-theme-color-rgb);\n      --f7-bars-translucent-opacity: 0.9;\n      --f7-bars-text-color: #fff;\n      --f7-bars-link-color: #fff;\n      --f7-navbar-subtitle-text-color: rgba(255,255,255,0.85);\n      --f7-bars-border-color: transparent;\n      --f7-tabbar-link-active-color: #fff;\n      --f7-tabbar-link-inactive-color: rgba(255,255,255,0.54);\n      --f7-sheet-border-color: transparent;\n      --f7-tabbar-link-active-border-color: #fff;\n    }\n    .appbar,\n    .navbar,\n    .toolbar,\n    .subnavbar,\n    .calendar-header,\n    .calendar-footer {\n      --f7-touch-ripple-color: var(--f7-touch-ripple-white);\n      --f7-link-highlight-color: var(--f7-link-highlight-white);\n      --f7-button-text-color: #fff;\n      --f7-button-pressed-bg-color: rgba(255,255,255,0.1);\n    }\n    .navbar-large-transparent,\n    .navbar-large.navbar-transparent {\n      --f7-navbar-large-title-text-color: #000;\n\n      --r: 0;\n      --g: 122;\n      --b: 255;\n      --progress: var(--f7-navbar-large-collapse-progress);\n      --f7-bars-link-color: rgb(\n        calc(var(--r) + (255 - var(--r)) * var(--progress)),\n        calc(var(--g) + (255 - var(--g)) * var(--progress)),\n        calc(var(--b) + (255 - var(--b)) * var(--progress))\n      );\n    }\n    .theme-dark .navbar-large-transparent,\n    .theme-dark .navbar-large.navbar-transparent {\n      --f7-navbar-large-title-text-color: #fff;\n  }").appendTo("head")}if($("body").addClass(e.color),$("body").attr("filled",e.filled),n){var a,i=app.toast.create({position:"center",text:'<button id="install-button" class="toast-button button color-green">Install</button>'});$(window).on("beforeinstallprompt",e=>{e.preventDefault(),a=e.originalEvent,i.open()}),app.utils.nextTick((function(){$("#install-button").on("click",(function(){i.close(),a&&(a.prompt(),a.userChoice.then(e=>{console.log("üëç","userChoice",e),a=null}))}))}),500)}})),$((function(){$(document).on("shiny:disconnected",(function(e){$("#ss-connect-dialog").hide(),$("#ss-overlay").hide();var n=app.toast.create({icon:'<i class="icon f7-icons">bolt_fill</i>',position:"center",text:'Disconnected ... </br> </br> <div class="row"><button onclick="Shiny.shinyapp.reconnect();" class="toast-button button color-green col">Reconnect</button><button onclick="location.reload();" class="toast-button button color-red col">Reload</button></div>'}).open();$(".toast-button").on("click",(function(){n.close()}))})),$(document).on("shiny:sessioninitialized",(function(e){Shiny.setInputValue("shinyInfo",Shiny.shinyapp.config)})),$(document).on("shiny:inputchanged",(function(e){var n;null!==e.binding&&(n=void 0!==e.binding.name?e.binding.name.split(".")[1]:"NA",Shiny.setInputValue("lastInputChanged",{name:e.name,value:e.value,type:n}))})),$(document).on("shiny:connected",(function(e){Shiny.setInputValue("deviceInfo",Framework7.device)})),Framework7.device.standalone&&($("html, body").css({height:"100vh",width:"100vw"}),$(".appbar").length>0&&$(".toolbar").css("margin-bottom","20px")),app.params.filled&&app.params.dark&&"#ffffff"!==$("body").attr("class")&&$(".demo-send-message-link").find("i").addClass("color-white"),$(".chip-delete").on("click",(function(){$(this).closest(".chip").remove()}));if(Shiny.addCustomMessageHandler("add_skeleton",(function(e){var n="skeleton-text skeleton-effect-"+e.effect;$(e.target).addClass(n),void 0!==e.duration?setTimeout((function(){$(e.target).removeClass(n)}),1e3*e.duration):$(document).on("shiny:idle",(function(){$(e.target).removeClass(n)}))})),window.ran=!1,app.params.skeletonsOnLoad){const e=[".page-content",".navbar",".toolbar"];$(document).on("shiny:connected",(function(n){setTimeout((function(){if($("html").hasClass("shiny-busy"))for(target of e)$(target).addClass("skeleton-text skeleton-effect-fade")}),50)})),$(document).on("shiny:idle",(function(n){if(!window.ran)for(target of e)$(target).removeClass("skeleton-text skeleton-effect-fade");window.ran=!0}))}if(app.params.preloader){const e=app.dialog.preloader();app.params.dark&&$(e.el).addClass("theme-dark"),$(document).on("shiny:idle",(function(e){window.ran||app.dialog.close(),window.ran=!0}))}isSplitLayout=$("#app").hasClass("split-layout"),app.params.dark?($("body").addClass("dark"),isSplitLayout&&$(".panel-left").hasClass("theme-light")&&$(".panel-left").removeClass("theme-light").addClass("theme-dark"),$(".appbar").addClass("theme-dark")):($("body").addClass("light"),isSplitLayout&&$(".panel-left").hasClass("theme-dark")&&$(".panel-left").removeClass("theme-dark").addClass("theme-light")),1==$(".subnavbar").length&&$(".page").addClass("page-with-subnavbar"),Shiny.addCustomMessageHandler("update-app",(function(e){app.utils.extend(app.params,e)})),Shiny.addCustomMessageHandler("update-entity",(function(e){var n;for(const t in app.data)for(const a in app.data[t])a===e.id&&(n=t);var t=app.data[n][e.id],a=t.params,i=app.utils.extend(a,e.options);t.destroy();var r=app[n].create(i);app.data[n][e.id]=r}));const e=["gauge","swiper","searchbar"],n=e.concat(["toast","photoBrowser","notification","popup","listIndex"]);function t(){$(".tab-link-highlight").remove();var e=100/$(".toolbar-inner > a").length,n=$(".toolbar-inner > a"),t=[];for(i=0;i<n.length;i++)t.push(n[i].className);var a,r=t.indexOf("tab-link tab-link-active");a=-1===r?0:100*r+"%",$(".toolbar-inner").append('<span class="tab-link-highlight" style="width: '+e+"%; transform: translate3d("+a+', 0px, 0px);"></span>')}activateWidget=function(n){e.indexOf(n)>-1?$("."+n).each((function(){var e=$(this),t=$(document).find("script[data-for='"+e.attr("id")+"']");(t=JSON.parse(t.html())).el="#"+e.attr("id"),app[n].create(t)})):Shiny.addCustomMessageHandler(n,(function(e){"listIndex"===n&&$('<div class="list-index" id="'+e.el+'"></div>').insertAfter($(".navbar")),e.on={open:function(n){void 0!==e.id&&Shiny.setInputValue(e.id,!0),n.app.params.dark&&$(n.el).addClass("theme-dark"),Shiny.unbindAll(),Shiny.initializeInputs(),Shiny.bindAll()},close:function(){void 0!==e.id&&Shiny.setInputValue(e.id,!1)}},"listIndex"===n?(e.el="#"+e.el,app[n].create(e)):app[n].create(e).open()}))},n.forEach((function(e){activateWidget(e)})),popoverIds=[],getAllPopoverIds=function(){$("[data-popover]").each((function(){popoverIds.push($(this).attr("data-popover"))}))},getAllPopoverIds(),popoverIds.forEach((function(e){Shiny.addCustomMessageHandler(e,(function(n){n.on={open:function(e){e.app.params.dark&&$(e.el).addClass("theme-dark")}};var t=app.popover.create({targetEl:'[data-popover = "'+e+'"]',content:'<div class="popover"><div class="popover-inner"><div class="block">'+n.content+"</div></div></div>"});$('[data-popover = "'+e+'"]').on("click",(function(){t.open()}))}))})),Shiny.addCustomMessageHandler("add_popover",(function(e){if(void 0===app.data.popovers[e.targetEl]){if(!$(e.targetEl).hasClass("popover-disabled")){e.content=`\n        <div class="popover">\n          <div class="popover-angle"></div>\n          <div class="popover-inner">\n            <div class="block">${e.content}</div>\n          </div>\n        </div>\n        `,e.on={open:function(e){e.app.params.dark&&$(e.el).addClass("theme-dark")}};var n=app.popover.create(e);n.open(),app.data.popovers[e.targetEl]=n}}else $(e.targetEl).hasClass("popover-disabled")||app.data.popovers[e.targetEl].open()})),Shiny.addCustomMessageHandler("toggle_popover",(function(e){$(e).toggleClass("popover-disabled")})),Shiny.addCustomMessageHandler("add_tooltip",(function(e){if(void 0===app.data.tooltips[e.targetEl]){var n=app.tooltip.create(e);n.show(),app.data.tooltips[e.targetEl]=n}})),Shiny.addCustomMessageHandler("update_tooltip",(function(e){if(void 0!==app.data.tooltips[e.targetEl]){var n=app.tooltip.get(e.targetEl);if("update"===e.action)n&&n.setText(e.text);else if("toggle"===e.action)if(n){var t=Object.assign({},n);app.data.tooltips[e.targetEl]=t,n.destroy()}else{var a=app.data.tooltips[e.targetEl].params;n=app.tooltip.create(a),app.data.tooltips[e.targetEl]=n}}})),Shiny.addCustomMessageHandler("dialog",(function(e){var n,t=e.type,a=`<div style="max-height: 300px; overflow-y: scroll;">${e.text}</div>`;switch(t){case"alert":n=app.dialog.alert(a,e.title,e.on);break;case"confirm":n=app.dialog.confirm(a=a,title=e.title,callbackOk=function(){Shiny.setInputValue(e.id,!0)},callbackCancel=function(){Shiny.setInputValue(e.id,!1)}).open(Shiny.setInputValue(e.id,null));break;case"prompt":n=app.dialog.prompt(a=a,title=e.title,callbackOk=function(n){Shiny.setInputValue(e.id,n)},callbackCancel=function(){Shiny.setInputValue(e.id,null)}).open(Shiny.setInputValue(e.id,null));break;case"login":n=app.dialog.login(a=a,title=e.title,callbackOk=function(n,t){Shiny.setInputValue(e.id,{user:n,password:t})},callbackCancel=function(){Shiny.setInputValue(e.id,null)}).open(Shiny.setInputValue(e.id,null));break;default:console.log("")}app.params.dark&&$(n.el).addClass("theme-dark")})),Shiny.addCustomMessageHandler("tapHold",(function(e){var n=new Function("return ("+e.callback+")");$(e.target).on("taphold",(function(){n()}))}));var a=[];if(getAllTabSetIds=function(){$(".tabs.ios-edges").each((function(){a.push(this.id)}))},getAllTabSetIds(),a.forEach((function(e){var n="insert_"+e;Shiny.addCustomMessageHandler(n,(function(e){var n;n=void 0===e.target?$("#"+e.ns):$("#"+e.ns+"-"+e.target);var a,i=$(e.value.html);if($(n).hasClass("swiper-slide")?(a=$(i).addClass("swiper-slide"),$(".tabLinks").children(1).hasClass("segmented")&&$(a).removeClass("page-content"),"true"===e.select&&$(a).addClass("swiper-slide-active")):a=$(i),void 0===e.target?($(n).append(a),$(".tabLinks .toolbar-inner").prepend(e.link)):"after"===e.position?($(a).insertAfter($(n)),$(e.link).insertAfter($('.tabLinks [data-tab ="#'+e.ns+"-"+e.target+'"]'))):"before"===e.position&&($(a).insertBefore($(n)),$(e.link).insertBefore($('.tabLinks [data-tab ="#'+e.ns+"-"+e.target+'"]'))),Shiny.renderContent(i[0],{html:i.html(),deps:e.value.deps}),$(".tabLinks").children(1).hasClass("segmented")){var r=$('.tabLinks [data-tab ="#'+e.id+'"]');$(r).replaceWith('<button class="button tab-link" data-tab="#'+e.id+'">'+$(r).html()+"</button>")}$(n).hasClass("swiper-slide")&&document.querySelector(".swiper-container").swiper.update();"true"===e.select&&app.tab.show("#"+e.id,!0),$(".tabLinks").children(1).hasClass("segmented")||t()}))})),a.forEach((function(e){var n="remove_"+e;Shiny.addCustomMessageHandler(n,(function(e){var n=$("#"+e.ns+"-"+e.target);if($(".tabs.ios-edges").css("transform",""),$(".tabLinks").children(1).hasClass("segmented")){var a=$('.tabLinks button[data-tab="#'+e.ns+"-"+e.target+'"]'),i=$(".tabLinks button").not('[data-tab="#'+e.ns+"-"+e.target+'"]');0===$(a).next().length?$(i).hasClass("tab-link-active")||$(a).prev().addClass("tab-link-active"):$(i).hasClass("tab-link-active")||$(a).next().addClass("tab-link-active"),$(a).remove()}else $('.toolbar-inner a[data-tab="#'+e.ns+"-"+e.target+'"]').remove();($("#"+e.ns+"-"+e.target).remove(),$(n).hasClass("swiper-slide"))&&document.querySelector(".swiper-container").swiper.update();var r=$(n).next().attr("id");app.tab.show("#"+r),$(".tabLinks").children(1).hasClass("segmented")||t()}))})),Shiny.addCustomMessageHandler("update-gauge",(function(e){var n="#"+e.id;app.gauge.get(n).update(e)})),activateAllProgress=function(){$(".progressbar").each((function(){var e="#"+$(this).attr("id"),n=parseInt($(this).attr("data-progress"));app.progressbar.show(e,n)}))},activateAllProgress(),Shiny.addCustomMessageHandler("update-progress",(function(e){app.progressbar.set("#"+e.id,e.progress)})),Shiny.addCustomMessageHandler("show_navbar",(function(e){e.animate,app.navbar.show(".navbar",e.animate)})),Shiny.addCustomMessageHandler("hide_navbar",(function(e){var n,t;n="true"==e.animate,t="true"==e.hideStatusbar,app.navbar.hide(".navbar",n=n,t=t)})),Shiny.addCustomMessageHandler("toggle_navbar",(function(e){$navbar=$(".navbar"),$navbar.hasClass("navbar-hidden")?app.navbar.show(".navbar",animate=e.animate):app.navbar.hide(".navbar",animate=e.animate,hideStatusbar=e.hideStatusbar)})),Shiny.addCustomMessageHandler("action-sheet",(function(e){if(void 0===app.data.actions[e.id]){var n=e.id+"_button";e.buttons.forEach((function(e,t){Object.defineProperty(e,"onClick",{value:function(){!function(e){Shiny.setInputValue(n,e)}(t+1)},writable:!1})})),e.on={open:function(e){e.app.params.dark&&$(e.el).addClass("theme-dark")},opened:function(){Shiny.setInputValue(e.id,!0)},closed:function(){Shiny.setInputValue(e.id,!1),Shiny.setInputValue(n,null)}};var t=app.actions.create(e);t.open(),app.data.actions[e.id]=t}else app.data.actions[e.id].open()})),Shiny.addCustomMessageHandler("update-action-sheet",(function(e){app.data.actions[e.id].destroy();var n=app.actions.create(e);app.data.actions[e.id]=n})),"true"===$("body").attr("data-ptr")){const e=$('<div class="ptr-preloader"><div class="preloader"></div><div class="ptr-arrow"></div></div>');$(".page-content").addClass("ptr-content").prepend(e).attr("data-ptr-distance","55").attr("data-ptr-mousewheel","true"),app.ptr.create(".ptr-content");var r=app.ptr.get(".ptr-content");r.on("refresh",(function(e){Shiny.setInputValue("ptr",!0),setTimeout((function(){app.ptr.done()}),2e3)})),r.on("done",(function(e){Shiny.setInputValue("ptr",null)}))}Shiny.addCustomMessageHandler("validate-input",(function(e){var n;$("#"+e.target).attr("required","").attr("validate","").attr("pattern",e.pattern).attr("data-error-message",e.error),$("#"+e.target).closest(".item-content.item-input").addClass("item-input-with-info"),void 0!==e.info&&(n='<div class = "item-input-info">'+e.info+"</div>"),$("#"+e.target).parent().append(n)})),Shiny.addCustomMessageHandler("show-preloader",(function(e){void 0!==e.el?app.preloader.showIn(e.el,e.color):app.preloader.show(e.color)})),Shiny.addCustomMessageHandler("hide-preloader",(function(e){void 0!==e.el?app.preloader.hideIn(e.el):app.preloader.hide()})),$(".swipeout-item").each((function(){$(this).on("click",(function(){Shiny.setInputValue($(this).attr("id"),!0,{priority:"event"}),app.swipeout.close($(this).closest(".swipeout"))}))}))}));var f7ActionSheetBinding=new Shiny.InputBinding;function setSource(e,n){var t=[];if(0!==e.length){for(var a=0;a<vals.length;a++)vals[a].toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(vals[a]);n(t)}else n(t)}$.extend(f7ActionSheetBinding,{find:function(e){},getValue:function(e){},receiveMessage:function(e,n){},subscribe:function(e,n){},unsubscribe:function(e){}}),Shiny.inputBindings.register(f7ActionSheetBinding);var f7AutoCompleteBinding=new Shiny.InputBinding;$.extend(f7AutoCompleteBinding,{initialize:function(e){var n=$(e).attr("id"),t={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));if(-1==["openIn","choices","value","dropdownPlaceholderText","limit"].indexOf(n)){var a="true"==e.value;t[n]=a}else t[n]=e.value}})),t.value=JSON.parse(t.value),"dropdown"==t.openIn?t.inputEl="#"+n:t.openerEl="#"+n;var a=JSON.parse(t.choices);t.source=function(e,n){var t=[];if(0!==e.length){for(var i=0;i<a.length;i++)a[i].toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(a[i]);n(t)}else n(t)},t.on={change:function(e){$("#"+n).trigger("change")}},app.autocomplete.create(t)},find:function(e){return $(e).find(".autocomplete-input")},getValue:function(e){var n=app.autocomplete.get($(e));return $(n.params.inputEl).val(n.value),n.value},setValue:function(e,n){e.value=n,e.params.value=n,$(e.params.inputEl).val(e.value)},_setChoices:function(e,n){vals=n,e.params.source=setSource},receiveMessage:function(e,n){var t=app.autocomplete.get($(e));n.hasOwnProperty("choices")&&this._setChoices(t,n.choices),n.hasOwnProperty("value")&&this.setValue(t,n.value),$(e).trigger("change")},subscribe:function(e,n){$(e).on("change.f7AutoCompleteBinding",(function(e){setTimeout((function(){n()}),10)}))},unsubscribe:function(e){$(e).off(".f7AutoCompleteBinding")}}),Shiny.inputBindings.register(f7AutoCompleteBinding,"f7.autocomplete");var f7ButtonInputBinding=new Shiny.InputBinding;$.extend(f7ButtonInputBinding,{find:function(e){return $(e).find(".f7-action-button")},getValue:function(e){return $(e).data("val")||0},setValue:function(e,n){$(e).data("val",n)},getType:function(e){return"shiny.action"},subscribe:function(e,n){$(e).on("click.f7ButtonInputBinding",(function(e){var t=$(this),a=t.data("val")||0;t.data("val",a+1),n()}))},getState:function(e){return{value:this.getValue(e)}},receiveMessage:function(e,n){var t=$(e);if(n.hasOwnProperty("color")&&($(e).removeClass((function(e,n){return(n.match(/(^|\s)color-\S+/g)||[]).join(" ")})),$(e).addClass("color-"+n.color)),n.hasOwnProperty("fill")){var a=$(e).hasClass("button-fill");n.fill?a||$(e).addClass("button-fill"):a&&$(e).removeClass("button-fill")}if(n.hasOwnProperty("outline")){var i=$(e).hasClass("button-outline");n.outline?i||$(e).addClass("button-outline"):i&&$(e).removeClass("button-outline")}if(n.hasOwnProperty("shadow")){var r=$(e).hasClass("button-raised");n.shadow?r||$(e).addClass("button-raised"):r&&$(e).removeClass("button-raised")}if(n.hasOwnProperty("rounded")){var s=$(e).hasClass("button-round");n.rounded?s||$(e).addClass("button-round"):s&&$(e).removeClass("button-round")}if(n.hasOwnProperty("size")){var o=$(e).hasClass("button-large"),l=$(e).hasClass("button-small");!o&!l&&$(e).addClass("button-"+n.size),!o&l&&($(e).removeClass("button-small"),$(e).addClass("button-"+n.size)),o&!l&&($(e).removeClass("button-large"),$(e).addClass("button-"+n.size))}var d=t.text();n.hasOwnProperty("label")&&(d=n.label),t.html(d)},unsubscribe:function(e){$(e).off(".f7ButtonInputBinding")}}),Shiny.inputBindings.register(f7ButtonInputBinding,"f7.button"),$(document).on("click","a.f7-action-button",(function(e){e.preventDefault()}));var f7CardBinding=new Shiny.InputBinding;$.extend(f7CardBinding,{find:function(e){return $(e).find(".card-expandable")},getValue:function(e){return $(e).hasClass("card-opened")},receiveMessage:function(e,n){app.card.toggle($(e))},subscribe:function(e,n){$(e).on("card:opened.f7CardBinding card:closed.f7CardBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7CardBinding")}}),Shiny.inputBindings.register(f7CardBinding,"f7.card");var f7CollapsibleBinding=new Shiny.InputBinding;$.extend(f7CollapsibleBinding,{find:function(e){return $(e).find(".collapsible")},getValue:function(e){var n=$($(e)[0]).attr("id"),t=$("#"+n+" li.accordion-item-opened");if(t.length>0){if(1===t.length)return{state:!0,value:$(t[0]).find(".item-title").html()};var a=[];return $(t).each((function(e){a.push($(t[e]).find(".item-title").html())})),{state:!0,value:a}}return{state:!1,value:null}},receiveMessage:function(e,n){if(n.hasOwnProperty("selected")){var t=$($(e)[0]).attr("id"),a=$("#"+t+" .accordion-item"),i=n.selected-1,r=$(a[i]);app.accordion.toggle(r)}},subscribe:function(e,n){$(e).on("accordion:opened.f7CollapsibleBinding accordion:closed.f7CollapsibleBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7CollapsibleBinding")}}),Shiny.inputBindings.register(f7CollapsibleBinding,"f7.collapsible");var f7ColorPickerBinding=new Shiny.InputBinding;$.extend(f7ColorPickerBinding,{initialize:function(e){app.colorPicker.create({inputEl:e,targetEl:$(e).attr("id")+"-value",targetElSetBackgroundColor:!0,modules:colorPickerModules,openIn:"auto",sliderValue:colorPickerSliderValue,sliderValueEditable:colorPickerSliderValueEditable,sliderLabel:colorPickerSliderLabel,hexLabel:colorPickerHexLabel,hexValueEditable:colorPickerHexValueEditable,groupedModules:colorPickerGroupedModules,palette:colorPickerPalettes,value:{hex:colorPickerValue},on:{open:function(e){e.app.params.dark&&e.$el.closest(".modal-in").addClass("theme-dark")}}})},find:function(e){return $(e).find(".color-picker-input")},getValue:function(e){var n=$(e).attr("id");return document.getElementById(n).value},setValue:function(e,n){},receiveMessage:function(e,n){},subscribe:function(e,n){$(e).on("change.f7ColorPickerBinding ",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7ColorPickerBinding ")}}),Shiny.inputBindings.register(f7ColorPickerBinding,"f7.colorpicker");var f7DateBinding=new Shiny.InputBinding;$.extend(f7DateBinding,{find:function(e){return $(e).find(".date-input")},getValue:function(e){return console.log($(e).attr("value")),$(e).attr("value")},setValue:function(e,n){},receiveMessage:function(e,n){},subscribe:function(e,n){$(e).on("keyup.dateInputBinding input.dateInputBinding",(function(e){n(!0)})),$(e).on("change.f7DateBinding",(function(e){n(!1)}))},getRatePolicy:function(){return{policy:"debounce",delay:250}},unsubscribe:function(e){$(e).off(".f7DateBinding")}}),Shiny.inputBindings.register(f7DateBinding,"f7.date");var f7DatePickerBinding=new Shiny.InputBinding;$.extend(f7DatePickerBinding,{initialize:function(e){var n=$(e)[0],t=$(e).parent().find("script[data-for='"+e.id+"']");if((t=JSON.parse(t.html())).hasOwnProperty("value"))for(var a=0;a<t.value.length;a++)t.value[a]=new Date(t.value[a]);else t.value=[new Date];t.inputEl=n,t.on={open:function(e){e.app.params.dark&&e.$el.closest(".modal-in").addClass("theme-dark")}};var i=app.calendar.create(t);this["calendar-"+e.id]=i},find:function(e){return $(e).find(".calendar-input")},getType:function(e){return"f7DatePicker.date"},getValue:function(e){var n=this["calendar-"+e.id].getValue();if(1==n.length){var t=new Date(this["calendar-"+e.id].getValue());return t=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()),new Date(t)}for(var a=[],i=0;i<n.length;i++)a[i]=new Date(n[i]),a[i]=Date.UTC(a[i].getFullYear(),a[i].getMonth(),a[i].getDate(),a[i].getHours(),a[i].getMinutes(),a[i].getSeconds()),a[i]=new Date(a[i]);return a},setValue:function(e,n){this["calendar-"+e.id].setValue(n)},receiveMessage:function(e,n){if(n.hasOwnProperty("config")&&(this["calendar-"+e.id].destroy(),n.config.inputEl=e,n.config.on={open:function(e){e.app.params.dark&&$(e.$el).addClass("theme-dark")}},this["calendar-"+e.id]=app.calendar.create(n.config)),n.hasOwnProperty("value")){for(var t,a=0;a<n.value.length;a++)t=new Date(n.value[a]),n.value[a]=new Date(t.getFullYear(),t.getMonth(),t.getDate());this.setValue(e,n.value)}},subscribe:function(e,n){$(e).on("change.f7DatePickerBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7DatePickerBinding")}}),Shiny.inputBindings.register(f7DatePickerBinding,"f7.datepicker");var f7FabsBinding=new Shiny.InputBinding;$.extend(f7FabsBinding,{find:function(e){return $(e).find(".fab")},getValue:function(e){return $(e).hasClass("fab-opened")},receiveMessage:function(e,n){app.fab.toggle("#"+$(e).attr("id"))},subscribe:function(e,n){$(e).on("fab:open.f7FabsBinding fab:close.f7FabsBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7FabsBinding")}}),Shiny.inputBindings.register(f7FabsBinding,"f7.fabs");var f7LoginBinding=new Shiny.InputBinding;$.extend(f7LoginBinding,{initialize:function(e){var n={};n.el="#"+$(e).attr("id"),n.animate=!1,n.on={open:function(e){e.app.params.dark&&$(e.el).addClass("theme-dark")},opened:function(){$(e).trigger("shown")}};var t=app.loginScreen.create(n);JSON.parse($(e).attr("data-start-open"))[0]&&t.open()},find:function(e){return $(e).find(".login-screen")},getValue:function(e){return app.loginScreen.get($(e)).opened},receiveMessage:function(e,n){var t=app.loginScreen.get($(e));t.opened?n.user.length>0&&n.password.length>0?t.close():app.dialog.alert("Please enter a valid password and user."):t.open()},subscribe:function(e,n){$(e).on("loginscreen:opened.f7LoginBinding loginscreen:closed.f7LoginBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7LoginBinding")}}),Shiny.inputBindings.register(f7LoginBinding,"f7.login");var f7MenuBinding=new Shiny.InputBinding;$.extend(f7MenuBinding,{find:function(e){return $(e).find(".menu-item-dropdown")},getValue:function(e){return $(e).hasClass("menu-item-dropdown-opened")},receiveMessage:function(e,n){$(e).hasClass("menu-item-dropdown-opened")||app.menu.open($(e))},subscribe:function(e,n){$(e).on("menu:opened.f7MenuBinding menu:closed.f7MenuBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7MenuBinding")}}),Shiny.inputBindings.register(f7MenuBinding,"f7.menu");var f7MessageBarBinding=new Shiny.InputBinding;$.extend(f7MessageBarBinding,{initialize:function(e){app.messagebar.create({el:"#"+$(e).attr("id")})},setState:function(e){var n=app.messagebar.get($(e)).getValue(),t=$(e).find("#"+e.id+"-send");return n.length?$(t).removeClass("disabled"):$(t).addClass("disabled"),n},find:function(e){return $(e).find(".messagebar")},getValue:function(e){return this.setState(e)},setValue:function(e,n){app.messagebar.get($(e)).setValue(n)},setPlaceholder:function(e,n){app.messagebar.get($(e)).setPlaceholder(n)},receiveMessage:function(e,n){n.hasOwnProperty("value")&&this.setValue(e,n.value),n.hasOwnProperty("placeholder")&&this.setPlaceholder(e,n.placeholder)},subscribe:function(e,n){$(e).on("input.f7MessageBarBinding change.f7MessageBarBinding focus.f7MessageBarBinding blur.f7MessageBarBinding",(function(t){$(e).find("#"+e.id+"-send").on("click",(function(){setTimeout((function(){app.messagebar.get($(e)).clear().focus()}),1e3)})),n(!0)}))},getRatePolicy:function(){return{policy:"debounce",delay:250}},unsubscribe:function(e){$(e).off(".f7MessageBarBinding")}}),Shiny.inputBindings.register(f7MessageBarBinding,"f7.messagebar");var f7MessagesBinding=new Shiny.InputBinding;$.extend(f7MessagesBinding,{initialize:function(e){$(".page-content").addClass("messages-content");var n=$(e).attr("id"),t=$(e).find("script[data-for='"+n+"']");(t=JSON.parse(t.html())).el="#"+n,t.firstMessageRule=function(e,n,t){return!e.isTitle&&(!n||n.type!==e.type||n.name!==e.name)},t.lastMessageRule=function(e,n,t){return!e.isTitle&&(!t||t.type!==e.type||t.name!==e.name)},t.tailMessageRule=function(e,n,t){return!e.isTitle&&(!t||t.type!==e.type||t.name!==e.name)},app.messages.create(t)},find:function(e){return $(e).find(".messages")},getValue:function(e){return app.messages.get($(e)).messages},setValue:function(e,n){responseInProgress=!0;var t=app.messages.get($(e));if(n.showTyping){var a=n.value.pop().name;setTimeout((function(){t.showTyping({header:a+" is typing"}),setTimeout((function(){t.addMessages(n.value),t.hideTyping(),responseInProgress=!1}),1e3)}),500)}else t.addMessages(n.value)},receiveMessage:function(e,n){this.setValue(e,n),$(e).trigger("change")},subscribe:function(e,n){$(e).on("change.f7MessagesBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7MessagesBinding")}}),Shiny.inputBindings.register(f7MessagesBinding,"f7.messages");var f7PanelBinding=new Shiny.InputBinding;$.extend(f7PanelBinding,{initialize:function(e){var n={};n.el="#"+$(e).attr("id"),n.on={opened:function(){$(e).trigger("shown")}},app.panel.create(n)},find:function(e){return $(e).find(".panel")},getValue:function(e){return app.panel.get($(e)).opened},receiveMessage:function(e,n){var t=app.panel.get($(e));t.toggle(t.side)},subscribe:function(e,n){$(e).on("panel:open.f7PanelBinding panel:close.f7PanelBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7PanelBinding")}}),Shiny.inputBindings.register(f7PanelBinding,"f7.panel");var f7PanelMenuBinding=new Shiny.InputBinding;$.extend(f7PanelMenuBinding,{find:function(e){return $(e).find(".panel-menu")},initialize:function(e){var n=$(e).find("a").first().data("tab"),t=$(e).find("a.tab-link-active").data("tab");void 0!==t?app.tab.show(t):app.tab.show(n)},getValue:function(e){var n=$(e).find("a.tab-link-active").data("tab");return void 0!==n?n.split("#")[1]:null},receiveMessage:function(e,n){n.hasOwnProperty("selected")&&app.tab.show("#"+n.ns+"-"+n.selected)},subscribe:function(e,n){$(e).find("a").on("click.f7PanelMenuBinding",(function(e){$($(this).data("tab")).trigger("shown").trigger("shown"),n(!1)})),app.on("tabShow.f7PanelMenuBinding",(function(e){n(!1)}))},unsubscribe:function(e){$(e).off(".f7PanelMenuBinding")}}),Shiny.inputBindings.register(f7PanelMenuBinding,"f7.tabsMenu");var f7PickerBinding=new Shiny.InputBinding;$.extend(f7PickerBinding,{initialize:function(e){var n=$(e)[0],t={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));if(-1==["openIn","toolbarCloseText","choices","value"].indexOf(n)){var a="true"==e.value;t[n]=a}else t[n]=e.value}})),t.inputEl=n,t.value=JSON.parse(t.value),t.cols=[{textAlign:"center",values:JSON.parse(t.choices)}],t.on={open:function(e){e.app.params.dark&&e.$el.closest(".modal-in").addClass("theme-dark")}};var a=app.picker.create(t);n.f7Picker=a},find:function(e){return $(e).find(".picker-input")},getValue:function(e){return app.picker.get($(e)).value},setValue:function(e,n){var t=app.picker.get($(e));t.value=n,t.displayValue=n,t.open(),setTimeout((function(){t.close()}),10)},receiveMessage:function(e,n){var t=app.picker.get($(e));n.hasOwnProperty("value")&&this.setValue(e,n.value),n.hasOwnProperty("choices")&&(t.cols[0].values=n.choices),n.hasOwnProperty("rotateEffect")&&(t.params.rotateEffect=n.rotateEffect),n.hasOwnProperty("openIn")&&(t.params.openIn=n.openIn),n.hasOwnProperty("scrollToInput")&&(t.params.scrollToInput=n.scrollToInput),n.hasOwnProperty("closeByOutsideClick")&&(t.params.closeByOutsideClick=n.closeByOutsideClick),n.hasOwnProperty("toolbar")&&(t.params.toolbar=n.toolbar),n.hasOwnProperty("toolbarCloseText")&&(t.params.toolbarCloseText=n.toolbarCloseText),n.hasOwnProperty("sheetSwipeToClose")&&(t.params.sheetSwipeToClose=n.sheetSwipeToClose)},subscribe:function(e,n){$(e).on("change.f7PickerBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7PickerBinding")}}),Shiny.inputBindings.register(f7PickerBinding,"f7.picker");let $escape=Shiny.$escape;function updateLabel(e,n){if(void 0!==e){if(1!==n.length)throw new Error("labelNode must be of length 1");$.isArray(e)&&0===e.length?n.addClass("shiny-label-null"):(n.text(e),n.removeClass("shiny-label-null"))}}var radioInputBinding=new Shiny.InputBinding;$.extend(radioInputBinding,{find:function(e){return $(e).find(".shiny-input-radiogroup")},getValue:function(e){var n=$('input:radio[name="'+$escape(e.id)+'"]:checked');return 0===n.length?null:n.val()},setValue:function(e,n){$.isArray(n)&&0===n.length?$('input:radio[name="'+$escape(e.id)+'"]').prop("checked",!1):$('input:radio[name="'+$escape(e.id)+'"][value="'+$escape(n)+'"]').prop("checked",!0)},getState:function(e){for(var n=$('input:radio[name="'+$escape(e.id)+'"]'),t=new Array(n.length),a=0;a<t.length;a++)t[a]={value:n[a].value,label:this._getLabel(n[a])};return{label:this._getLabelNode(e).text(),value:this.getValue(e),options:t}},receiveMessage:function(e,n){var t=$(e);n.hasOwnProperty("options")&&(t.find("ul").remove(),t.append(n.options)),n.hasOwnProperty("value")&&this.setValue(e,n.value),updateLabel(n.label,this._getLabelNode(e)),$(e).trigger("change")},subscribe:function(e,n){$(e).on("change.radioInputBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".radioInputBinding")},_getLabelNode:function(e){return $(e).siblings("div.block-title")},_getLabel:function(e){return"LABEL"===e.parentNode.tagName?$(e.parentNode).find("div.item-title").text().trim():null},_setLabel:function(e,n){return"LABEL"===e.parentNode.tagName&&$(e.parentNode).find("div.item-title").text(n),null}}),Shiny.inputBindings.register(radioInputBinding,"shiny.radioInput");var f7SelectBinding=new Shiny.InputBinding;$.extend(f7SelectBinding,{find:function(e){return $(e).find(".input-select")},getValue:function(e){return $(e).val()},setValue:function(e,n){$(e).val(n)},receiveMessage:function(e,n){n.hasOwnProperty("selected")&&this.setValue(e,n.selected),$(e).trigger("change")},subscribe:function(e,n){$(e).on("change.f7SelectBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7SelectBinding")}}),Shiny.inputBindings.register(f7SelectBinding,"f7.select");var f7SheetBinding=new Shiny.InputBinding;$.extend(f7SheetBinding,{initialize:function(e){var n=$(e).attr("id"),t={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()})),a="true"==e.value;t[n]=a}})),t.el="#"+n,t.on={open:function(e){e.app.params.dark&&$(e.el).addClass("theme-dark")},opened:function(){$(e).trigger("shown")}};app.sheet.create(t)},find:function(e){return $(e).find(".sheet-modal")},getValue:function(e){return app.sheet.get($(e)).opened},receiveMessage:function(e,n){var t=app.sheet.get($(e));t.opened?t.close():t.open()},subscribe:function(e,n){$(e).on("sheet:open.f7SheetBinding sheet:close.f7SheetBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7SheetBinding")}}),Shiny.inputBindings.register(f7SheetBinding,"f7.sheet");var f7SliderBinding=new Shiny.InputBinding;$.extend(f7SliderBinding,{initialize:function(e){var n=$(e).attr("id"),t={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));if(-1==["min","max","step","value","scaleSteps","scaleSubSteps","valueLeft","valueRight"].indexOf(n)){var a="true"==e.value;t[n]=a}else t[n]=parseFloat(e.value)}})),t.el="#"+n;app.range.create(t)},find:function(e){return $(e).find(".range-slider")},getValue:function(e){return app.range.get($(e)).value},setValue:function(e,n){app.range.setValue(e,n)},receiveMessage:function(e,n){var t=app.range.get($(e));if(n.hasOwnProperty("min")&&(t.min=n.min,t.updateScale()),n.hasOwnProperty("max")&&(t.max=n.max,t.updateScale()),n.hasOwnProperty("step")&&(t.step=n.step,t.updateScale()),n.hasOwnProperty("scaleSteps")&&(t.scaleSteps=n.scaleSteps,t.updateScale()),n.hasOwnProperty("scaleSubSteps")&&(t.scaleSubSteps=n.scaleSubSteps,t.updateScale()),n.hasOwnProperty("scale")&&(t.scale=n.scale),n.hasOwnProperty("value")){var a=n.value;$.isArray(a)?this.setValue(e,a):(t.dual=!1,t.updateScale(),this.setValue(e,a))}n.hasOwnProperty("color")&&($(e).removeClass((function(e,n){return(n.match(/(^|\s)color-\S+/g)||[]).join(" ")})),$(e).addClass("color-"+n.color))},subscribe:function(e,n){$(e).on("range:change.f7SliderBinding",(function(e){n(!0)}))},unsubscribe:function(e){$(e).off(".f7SliderBinding")},getRatePolicy:function(){return{policy:"debounce",delay:250}}}),Shiny.inputBindings.register(f7SliderBinding,"f7.range");var f7SmartSelectBinding=new Shiny.InputBinding;$.extend(f7SmartSelectBinding,{initialize:function(e){var n=$(e).attr("id"),t=$(e).children().eq(2);(t=JSON.parse(t.html())).el="#"+n,t.on={open:function(e){e.app.params.dark&&$(e.$containerEl).addClass("theme-dark")}};var a=app.smartSelect.create(t);this["smart-select-"+e.id]=a},find:function(e){return $(e).find(".smart-select")},getValue:function(e){return this["smart-select-"+e.id].getValue()},setValue:function(e,n){this["smart-select-"+e.id].setValue(n)},receiveMessage:function(e,n){n.config.on={open:function(e){e.app.params.dark&&$(e.$containerEl).addClass("theme-dark")}},n.hasOwnProperty("config")&&(this["smart-select-"+e.id].destroy(),n.config.el="#"+$(e).attr("id"),this["smart-select-"+e.id]=app.smartSelect.create(n.config)),n.hasOwnProperty("multiple")&&n.multiple&&(this["smart-select-"+e.id].destroy(),$(e).find("select").attr("multiple",""),n.config.el="#"+$(e).attr("id"),this["smart-select-"+e.id]=app.smartSelect.create(n.config)),n.hasOwnProperty("maxLength")&&(this["smart-select-"+e.id].destroy(),$(e).find("select").attr("maxLength",n.maxLength),n.config.el="#"+$(e).attr("id"),this["smart-select-"+e.id]=app.smartSelect.create(n.config));n.hasOwnProperty("choices")&&($(e).find("select").empty(),$.each(n.choices,(function(t){var a,i=n.choices[t];$(e).find("select").append("<option value = '"+(a=i)+"'>"+a+"</option>")}))),n.hasOwnProperty("selected")&&this.setValue(e,n.selected)},subscribe:function(e,n){$(e).on("change.f7SmartSelectBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7SmartSelectBinding")}}),Shiny.inputBindings.register(f7SmartSelectBinding,"f7.smartselect");var f7StepperBinding=new Shiny.InputBinding;$.extend(f7StepperBinding,{initialize:function(e){var n=$(e).attr("id"),t={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));if(-1==["min","max","step","value","decimalPoint"].indexOf(n)){var a="true"==e.value;t[n]=a}else t[n]=parseFloat(e.value)}})),t.el="#"+n;app.stepper.create(t);if(!t.manualInputMode){var a=$(e).find("input");$(a).attr("readonly","")}},find:function(e){return $(e).find(".stepper")},getValue:function(e){return app.stepper.get($(e)).value},setValue:function(e,n){app.stepper.setValue(e,n)},increment:function(){app.stepper.increment()},decrement:function(){app.stepper.decrement()},receiveMessage:function(e,n){var t=app.stepper.get($(e));if(n.hasOwnProperty("min")&&(t.min=n.min,t.params.min=n.min),n.hasOwnProperty("max")&&(t.max=n.max,t.params.max=n.max),n.hasOwnProperty("wraps")&&(t.params.wraps=n.wraps),n.hasOwnProperty("decimalPoint")&&(t.decimalPoint=n.decimalPoint,t.params.decimalPoint=n.decimalPoint),n.hasOwnProperty("manual")){t.params.manualInputMode=n.manual;var a=$(e).find("input");n.manual?void 0!==$(a).attr("readonly")&&$(a).removeAttr("readonly"):$(a).attr("readonly","")}n.hasOwnProperty("step")&&(t.step=n.step,t.params.step=n.step),n.hasOwnProperty("autorepeat")&&(t.params.autorepeat=n.autorepeat,t.params.autorepeatDynamic=n.autorepeat),n.hasOwnProperty("rounded")&&(n.rounded?$(e).addClass("stepper-round"):$(e).removeClass("stepper-round")),n.hasOwnProperty("raised")&&(n.raised?$(e).addClass("stepper-raised"):$(e).removeClass("stepper-raised")),n.hasOwnProperty("color")&&($(e).removeClass((function(e,n){return(n.match(/(^|\s)color-\S+/g)||[]).join(" ")})),$(e).addClass("color-"+n.color)),n.hasOwnProperty("size")&&($(e).hasClass("stepper-small")||$(e).hasClass("stepper-large")?$(e).hasClass("stepper-small")&&"large"==n.size?($(e).removeClass("stepper-small"),$(e).addClass("stepper-large")):$(e).hasClass("stepper-large")&&"small"==n.size&&($(e).addClass("stepper-small"),$(e).removeClass("stepper-large")):"small"==n.size?$(e).addClass("stepper-small"):"large"==n.size&&$(e).addClass("stepper-large")),n.hasOwnProperty("value")&&(this.setValue(e,n.value),t.params.value=n.value)},subscribe:function(e,n){$(e).on("stepper:change.f7StepperBinding",(function(t){app.stepper.get($(e)).params.autorepeat?n(!0):n()}))},unsubscribe:function(e){$(e).off(".f7StepperBinding")},getRatePolicy:function(){return{policy:"debounce",delay:500}}}),Shiny.inputBindings.register(f7StepperBinding,"f7.stepper");var f7TabsBinding=new Shiny.InputBinding;$.extend(f7TabsBinding,{find:function(e){return $(e).find(".tabs")},getValue:function(e){var n;return n=$(e).hasClass("standalone")?$(e).find(".tab-active"):$(e).find(".page-content.tab-active"),$(n).data("hidden")?$(".tab-link-highlight").hide():$(".tab-link-highlight").show(),void 0!==$(n).attr("data-value")?$(n).attr("data-value"):null},receiveMessage:function(e,n){n.hasOwnProperty("selected")&&app.tab.show("#"+n.ns+"-"+n.selected)},subscribe:function(e,n){$(e).on("tab:show.f7TabsBinding",(function(t){$(e).trigger("shown"),n()}))},unsubscribe:function(e){$(e).off(".f7TabsBinding")}}),Shiny.inputBindings.register(f7TabsBinding,"f7.tabs");var f7ToggleBinding=new Shiny.InputBinding;$.extend(f7ToggleBinding,{initialize:function(e){app.toggle.create({el:e})},find:function(e){return $(e).find(".toggle")},getValue:function(e){return app.toggle.get($(e)).checked},setValue:function(e,n){app.toggle.get($(e)).checked=n},receiveMessage:function(e,n){n.hasOwnProperty("checked")&&this.setValue(e,n.checked),n.hasOwnProperty("color")&&($(e).removeClass((function(e,n){return(n.match(/(^|\s)color-\S+/g)||[]).join(" ")})),$(e).addClass("color-"+n.color))},subscribe:function(e,n){$(e).on("toggle:change.f7ToggleBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7ToggleBinding")}}),Shiny.inputBindings.register(f7ToggleBinding,"f7.toggle");var f7VirtualListBinding=new Shiny.InputBinding;$.extend(f7VirtualListBinding,{decodeHTML:function(e){var n=document.createElement("textarea");return n.innerHTML=e,n.value},initialize:function(e){var n,t=$(e).attr("id"),a=$(e).find("script[data-for='"+t+"']");for(var i of((a=JSON.parse(a.html())).el="#"+t,a.items))i.media.length>0&&(i.media='<div class="item-media">'+this.decodeHTML(i.media)+"</div>");n=void 0===a.items[0].url?'<li><div class="item-content">{{media}}<div class="item-inner"><div class="item-title-row"><div class="item-title"><div class="item-header">{{header}}</div>{{title}}<div class="item-footer">{{footer}}</div></div><div class="item-after">{{right}}</div></div><div class="item-subtitle">{{subtitle}}</div><div class="item-text">{{content}}</div></div></div></li>':'<li><a class="item-link item-content external" href="url" target="_blank">{{media}}<div class="item-inner"><div class="item-title-row"><div class="item-title"><div class="item-header">{{header}}</div>{{title}}<div class="item-footer">{{footer}}</div></div><div class="item-after">{{right}}</div></div><div class="item-subtitle">{{subtitle}}</div><div class="item-text">{{content}}</div></div></a></li>',a.itemTemplate=n,a.searchAll=function(e,n){for(var t=[],a=0;a<n.length;a++)(n[a].title.toLowerCase().indexOf(e.toLowerCase())>=0||""===e.trim())&&t.push(a);return t},a.height=void 0!==a.items[0].media?"ios"===app.theme?112:"md"===app.theme?132:78:"ios"===app.theme?63:"md"===app.theme?73:46,app.virtualList.create(a)},find:function(e){return $(e).find(".virtual-list")},getValue:function(e){var n=app.virtualList.get($(e));return{length:n.items.length,current_from:n.currentFromIndex+1,current_to:n.currentToIndex+1,reach_end:n.reachEnd}},setValue:function(e,n){var t=app.virtualList.get($(e));t.resetFilter();var a=function(e){var n;if(void 0===e.length)n=`<div class="item-media">${e.media}</div>`,e.media=n;else for(var t=0;t<e.length;t++)n=`<div class="item-media">${e[t].media}</div>`,e[t].media=n;return e};switch(n.action){case"appendItem":t.appendItem(a(n.item));break;case"prependItem":t.prependItem(a(n.item));break;case"appendItems":t.appendItems(a(n.items));break;case"prependItems":t.prependItems(a(n.items));break;case"replaceItem":t.replaceItem(n.index,n.item);break;case"replaceAllItems":t.replaceAllItems(n.items);break;case"moveItem":t.moveItem(n.oldIndex,n.newIndex);break;case"insertItemBefore":t.insertItemBefore(n.index,a(n.item));break;case"filterItems":t.filterItems(n.indexes);break;case"deleteItem":t.deleteItem(n.index);break;case"deleteAllItems":t.deleteAllItems(n.indexes);break;case"scrollToItem":t.scrollToItem(n.index)}$(e).trigger("change")},receiveMessage:function(e,n){this.setValue(e,n)},subscribe:function(e,n){$(e).on("change.f7VirtualListBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7VirtualListBinding")}}),Shiny.inputBindings.register(f7VirtualListBinding,"f7.virtuallist");
//# sourceMappingURL=shinyMobile.min.js.map
