<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="shinyMobile">
<title>Multipages • shinyMobile</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<script src="../extra.js"></script><meta property="og:title" content="Multipages">
<meta property="og:description" content="shinyMobile">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/atropos@2.0.2/atropos.min.css">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-info" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">shinyMobile</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/shinyMobile.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/inputs-layout.html">Inputs Layout and Forms</a>
    <a class="dropdown-item" href="../articles/lists.html">List View</a>
    <a class="dropdown-item" href="../articles/multipages.html">Multipages</a>
    <a class="dropdown-item" href="../articles/pwa.html">Progressive Web App (PWA) support</a>
    <a class="dropdown-item" href="../articles/reconnect.html">Disconnected, Reconnect and Reload</a>
    <a class="dropdown-item" href="../articles/shinyMobile-tools.html">shinyMobile Tools</a>
    <a class="dropdown-item" href="../articles/update-app.html">Dynamic App Configuration</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <h6 class="dropdown-header" data-toc-skip>shinyMobile 2.0.0</h6>
    <h6 class="dropdown-header" data-toc-skip>shinyMobile 1.0.1</h6>
    <h6 class="dropdown-header" data-toc-skip>shinyMobile 1.0.0</h6>
    <h6 class="dropdown-header" data-toc-skip>shinyMobile 0.9.1</h6>
    <h6 class="dropdown-header" data-toc-skip>shinyMobile 0.9.0</h6>
    <h6 class="dropdown-header" data-toc-skip>shinyMobile 0.8.0</h6>
    <h6 class="dropdown-header" data-toc-skip>shinyMobile 0.7.0</h6>
    <h6 class="dropdown-header" data-toc-skip>shinyMobile 0.1.0</h6>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/RinteRface/shinyMobile/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Multipages</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/RinteRface/shinyMobile/blob/HEAD/vignettes/articles/multipages.Rmd" class="external-link"><code>vignettes/articles/multipages.Rmd</code></a></small>
      <div class="d-none name"><code>multipages.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="co">#library(brochure)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RinteRface/shinyMobile" class="external-link">shinyMobile</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Disclaimer: all of the following is still very
<strong>experimental</strong>. Use it with caution.</p>
<p>Since v2.0.0, <a href="https://github.com/RinteRface/shinyMobile" class="external-link">shinyMobile</a> has <strong>multi
pages</strong> support. Under the hood, this amazing feature is made
possible owing to the <code>{brochure}</code> <a href="https://github.com/ColinFay/brochure" class="external-link">package</a> from <a href="https://github.com/ColinFay" class="external-link">Colin Fay</a> as well as the internal
Framework7 <a href="https://framework7.io/docs/view" class="external-link">router</a>.</p>
<p>What is multi pages navigation? If you consider a basic website with
2 pages such as <code>index.html</code> and <code>other.html</code>,
browsing to <code>https:://mywebsite.com</code> opens
<code>index.html</code> while typing
<code>https:://mywebsite.com/other.html</code> requests the
<code>other.html</code> page. If you take a classic shiny app with tabs,
clicking on one tab gives you the illusion to browse to another page
because of the Bootstrap JS and CSS magic. That’s however not the case
as the url does not change. Therefore, Shiny doesn’t support multi pages
navigation by default. <code>{brochure}</code> makes this somehow
possible.</p>
</div>
<div class="section level2">
<h2 id="about-brochure">About brochure<a class="anchor" aria-label="anchor" href="#about-brochure"></a>
</h2>
<p>To develop a <code>{brochure}</code> app, you need the following
template:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>page_1 <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>  <span class="fu">page</span>(</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>    <span class="at">href =</span> <span class="st">"/"</span>,</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>    <span class="at">ui =</span> <span class="cf">function</span>(request) {</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>      <span class="co"># PAGE 1 UI</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>    },</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>    <span class="at">server =</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>      <span class="co"># Server function</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>    }</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a>  )</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a>}</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a>page_2 <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a>  <span class="fu">page</span>(</span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a>    <span class="at">href =</span> <span class="st">"/2"</span>,</span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a>    <span class="at">ui =</span> <span class="cf">function</span>(request) {</span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a>      <span class="co"># Page 2 UI</span></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a>    },</span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a>    <span class="at">server =</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a>      <span class="co"># Server function</span></span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a>    }</span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a>  )</span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a>}</span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a>page_3 <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a>  <span class="fu">page</span>(</span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a>    <span class="at">href =</span> <span class="st">"/3"</span>,</span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a>    <span class="at">ui =</span> <span class="cf">function</span>(request) {</span>
<span id="cb2-29"><a href="#cb2-29" tabindex="-1"></a>      <span class="co"># Page 3 UI</span></span>
<span id="cb2-30"><a href="#cb2-30" tabindex="-1"></a>    },</span>
<span id="cb2-31"><a href="#cb2-31" tabindex="-1"></a>    <span class="at">server =</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb2-32"><a href="#cb2-32" tabindex="-1"></a>      <span class="co"># Server function</span></span>
<span id="cb2-33"><a href="#cb2-33" tabindex="-1"></a>    }</span>
<span id="cb2-34"><a href="#cb2-34" tabindex="-1"></a>  )</span>
<span id="cb2-35"><a href="#cb2-35" tabindex="-1"></a>}</span>
<span id="cb2-36"><a href="#cb2-36" tabindex="-1"></a></span>
<span id="cb2-37"><a href="#cb2-37" tabindex="-1"></a><span class="fu">brochureApp</span>(</span>
<span id="cb2-38"><a href="#cb2-38" tabindex="-1"></a>  <span class="co"># Pages</span></span>
<span id="cb2-39"><a href="#cb2-39" tabindex="-1"></a>  <span class="fu">page_1</span>(),</span>
<span id="cb2-40"><a href="#cb2-40" tabindex="-1"></a>  <span class="fu">page_2</span>(),</span>
<span id="cb2-41"><a href="#cb2-41" tabindex="-1"></a>  <span class="fu">page_3</span>(),</span>
<span id="cb2-42"><a href="#cb2-42" tabindex="-1"></a>  <span class="at">wrapped =</span> <span class="sc">&lt;</span>WRAPPER<span class="sc">-</span>FUNC<span class="sc">&gt;</span></span>
<span id="cb2-43"><a href="#cb2-43" tabindex="-1"></a>)</span></code></pre></div>
<p>In brief, you create different pages with <code><a href="https://rdrr.io/r/utils/page.html" class="external-link">page()</a></code> and put
them inside <code>brochureApp()</code>. Each page is composed of a
<code>ui</code>, <code>server</code> and <code>href</code> which
represents the location where to serve the page. In theory, as mentioned
in the <code>{brochure}</code> documentation, each page has its own
shiny session, which means that if you go from page 1 to page 2, the
state of page 1 is lost when you come back to it.</p>
<p>For <a href="https://github.com/RinteRface/shinyMobile" class="external-link">shinyMobile</a>, we decided to slightly deviate from
this and only assign a global server function, meaning that you can use
the <code>brochureApp()</code> <strong>server</strong> parameter instead
of the one from <code><a href="https://rdrr.io/r/utils/page.html" class="external-link">page()</a></code>. This requires to install a modified
version of <code>{brochure}</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"DivadNojnarg/brochure"</span><span class="op">)</span></span></code></pre></div>
<p>Besides, <code>brochureApp()</code> exposes <strong>wrapped</strong>,
allowing us to inject our own <code><a href="../reference/f7MultiLayout.html">f7MultiLayout()</a></code> function,
described below with more details.</p>
</div>
<div class="section level2">
<h2 id="the-new-f7multilayout">The new f7MultiLayout<a class="anchor" aria-label="anchor" href="#the-new-f7multilayout"></a>
</h2>
<p><code><a href="../reference/f7MultiLayout.html">f7MultiLayout()</a></code> accepts elements of a certain layout,
similar to what is exposed by the <code><a href="../reference/f7SingleLayout.html">f7SingleLayout()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">shiny</span><span class="fu">::</span><span class="va"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">tags</a></span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>  class <span class="op">=</span> <span class="st">"page"</span>,</span>
<span>  <span class="co"># top navbar goes here</span></span>
<span>  <span class="fu"><a href="../reference/navbar.html">f7Navbar</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Home page"</span><span class="op">)</span>,</span>
<span>  <span class="co"># Optional toolbar #</span></span>
<span>  <span class="va">tags</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>    class <span class="op">=</span> <span class="st">"page-content"</span>,</span>
<span>    <span class="va">...</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>page</strong> is the main wrapper which takes a
<strong>navbar</strong> and <strong>page-content</strong> as children.
Note that you can also have a local <strong>toolbar</strong>, assuming
you didn’t define a main toolbar in <code><a href="../reference/f7MultiLayout.html">f7MultiLayout()</a></code>.
Indeed, if you pass a <strong>toolbar</strong> to the corresponding
<code><a href="../reference/f7MultiLayout.html">f7MultiLayout()</a></code> parameter, it is seen as a global app
toolbar. <strong>page-content</strong> is where is displayed the page
content such as <a href="https://github.com/RinteRface/shinyMobile" class="external-link">shinyMobile</a> widgets.</p>
<p><code><a href="../reference/f7MultiLayout.html">f7MultiLayout()</a></code> accepts a list of app options, like
<code><a href="../reference/f7DefaultOptions.html">f7DefaultOptions()</a></code>, which are internally forwarded to
<code><a href="../reference/f7Page.html">f7Page()</a></code>. At the time of writting of this vignette, you
must install a patched <code>{brochure}</code> version with
<code>devtools::install_github("DivadNojnarg/brochure")</code> to be
able to pass custom options to <code>brochureApp()</code>, which
essentially calls <code>do.call(wrapped, wrapped_options)</code>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">brochureApp</span>(</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>  <span class="co"># Pages</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  <span class="fu">page_1</span>(),</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>  <span class="fu">page_2</span>(),</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>  <span class="fu">page_3</span>(),</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>  <span class="at">wrapped =</span> <span class="sc">&lt;</span>WRAPPER<span class="sc">-</span>FUNC<span class="sc">&gt;</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>  <span class="at">wrapped_options =</span> <span class="sc">&lt;</span>OPTIONS<span class="sc">&gt;</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="framework-7-router">Framework 7 router<a class="anchor" aria-label="anchor" href="#framework-7-router"></a>
</h2>
<div class="section level3">
<h3 id="local-version">Local version<a class="anchor" aria-label="anchor" href="#local-version"></a>
</h3>
<p>Internally, <code><a href="../reference/f7MultiLayout.html">f7MultiLayout()</a></code> wraps all the pages in a
<strong>view</strong> reponsible for the page navigation and history
(going back and forward with the browser back/next buttons). This
<strong>view</strong> is also called <strong>router</strong>. (At this
point, you may wonder what is <code>basepath</code>. We come back on
that later in the article)</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># f7MultiLayout</span></span>
<span><span class="fu">shiny</span><span class="fu">::</span><span class="va"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">tags</a></span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>  class <span class="op">=</span> <span class="st">"view view-main view-init"</span>,</span>
<span>  <span class="co"># When app is deployed, the basepath isn't / but something else ...</span></span>
<span>  `data-url` <span class="op">=</span> <span class="va">basepath</span>,</span>
<span>  <span class="co"># Avoids to see the previous page in the DOM</span></span>
<span>  `data-preload-previous-page` <span class="op">=</span> <span class="st">"false"</span>,</span>
<span>  <span class="co"># Important: to be able to have updated url</span></span>
<span>  `data-browser-history` <span class="op">=</span> <span class="st">"true"</span>,</span>
<span>  <span class="co"># Avoids the ugly #! default separator</span></span>
<span>  `data-browser-history-separator` <span class="op">=</span> <span class="st">""</span>,</span>
<span>  <span class="co"># Optional common toolbar</span></span>
<span>  <span class="va">toolbar</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>In addition to creating the pages UI, we need to tell Framework7 how
to route the pages. This is pretty simple, as we can pass a list of
routes which is sent to JS with the app <strong>options</strong> list.
This may yield something like this:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Framework7 options: see f7DefaultOptions()</span></span>
<span><span class="va">options</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># dark mode option</span></span>
<span>  dark <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  routes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="co"># Important: don't remove keepAlive</span></span>
<span>    <span class="co"># for pages as this allows</span></span>
<span>    <span class="co"># to save the input state when switching</span></span>
<span>    <span class="co"># between pages. If FALSE, each time a page is</span></span>
<span>    <span class="co"># changed, inputs are reset.</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"/"</span>, url <span class="op">=</span> <span class="st">"/"</span>, name <span class="op">=</span> <span class="st">"home"</span>, keepAlive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"/2"</span>, url <span class="op">=</span> <span class="st">"/2"</span>, name <span class="op">=</span> <span class="st">"2"</span>, keepAlive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"/3"</span>, url <span class="op">=</span> <span class="st">"/3"</span>, name <span class="op">=</span> <span class="st">"3"</span>, keepAlive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>For each route, we must provide:</p>
<ul>
<li>
<strong>path</strong>: path display in the url.</li>
<li>
<strong>url</strong>: page url. In our case, this is identical to
the path.</li>
<li>
<strong>keepAlive</strong>: this ensures that when we leave the
current page and come back, we don’t lose the state of inputs and
widgets inside. Hence, it is expected to be <code>TRUE</code>. See more
<a href="https://framework7.io/docs/routes#keep-alive" class="external-link">here</a>.</li>
</ul>
</div>
<div class="section level3">
<h3 id="deploying-on-a-server">Deploying on a server<a class="anchor" aria-label="anchor" href="#deploying-on-a-server"></a>
</h3>
<p>At some point, you want to deploy your app on a server. The url could
be something like
<code>https://&lt;user_name&gt;.shinyapps.io/&lt;app_name&gt;</code> if
your using <a href="https://www.shinyapps.io/" class="external-link">shinyapps.io</a> as
hosting system.</p>
<p>In that case, we must adapt all the links, the one provided in the
router configuration and in the different pages to account for the base
location (<code>basepath</code>) that is <code>/&lt;app_name</code> and
not just <code>/</code> as you would have locally.</p>
<p>We create a config.yml file to handle the different
<code>basepath</code> so that the link navigation work:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">default</span><span class="kw">:</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="at">  </span><span class="fu">basepath</span><span class="kw">:</span><span class="at"> </span><span class="st">""</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="fu">shinyapps</span><span class="kw">:</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="at">  </span><span class="fu">basepath</span><span class="kw">:</span><span class="at"> </span><span class="st">"/multipages"</span></span></code></pre></div>
<p>We design a helper function to handle the link update:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Allows to use the app on a server like </span></span>
<span><span class="co"># shinyapps.io where basepath is /app_name</span></span>
<span><span class="co"># instead of "/" or "".</span></span>
<span><span class="va">make_link</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">path</span> <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">path</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="fu">config</span><span class="fu">::</span><span class="fu">get</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">basepath</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu">config</span><span class="fu">::</span><span class="fu">get</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">basepath</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="st">"/"</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"%s/%s"</span>, <span class="fu">config</span><span class="fu">::</span><span class="fu">get</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">basepath</span>, <span class="va">path</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>As you can see, we leverage the <a href="https://rstudio.github.io/config/" class="external-link">config</a> package to
recover the <code>basepath</code> value. Once deployed, the app knows
that on <code>shinyapps.io</code> the basepath will be
<code>/multipages</code>.</p>
<p>We can then update our router config with <code>make_link</code>.
Note that for the first page, we use <code>make_link()</code> that will
either return <code>/</code> (locally) or <code>/&lt;app_path&gt;</code>
on a server. For other pages, we just call <code>make_link("2")</code>
which yields either <code>/2</code> locally or
<code>/&lt;app_path&gt;/2</code> on a server:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Framework7 options: see f7DefaultOptions()</span></span>
<span><span class="va">options</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># dark mode option</span></span>
<span>  dark <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  routes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="co"># Important: don't remove keepAlive</span></span>
<span>    <span class="co"># for pages as this allows</span></span>
<span>    <span class="co"># to save the input state when switching</span></span>
<span>    <span class="co"># between pages. If FALSE, each time a page is</span></span>
<span>    <span class="co"># changed, inputs are reset.</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>, url <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"home"</span>, keepAlive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="st">"2"</span><span class="op">)</span>, url <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="st">"2"</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"2"</span>, keepAlive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="st">"3"</span><span class="op">)</span>, url <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="st">"3"</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"3"</span>, keepAlive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>When you call <code>brochureApp</code>, don’t forget to pass the
<code>basepath</code> parameter (or alternatively
<code>make_link()</code>):</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">brochureApp</span>(</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>  <span class="at">basepath =</span> config<span class="sc">::</span><span class="fu">get</span>()<span class="sc">$</span>basepath,</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>  <span class="co"># Pages</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>  <span class="fu">page_1</span>(),</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>  <span class="fu">page_2</span>(),</span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>  <span class="fu">page_3</span>(),</span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>  <span class="at">wrapped =</span> <span class="sc">&lt;</span>WRAPPER<span class="sc">-</span>FUNC<span class="sc">&gt;</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a>  <span class="co"># This list is passed to &lt;WRAPPER-FUNC&gt;</span></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a>  <span class="at">wrapped_options =</span> <span class="fu">list</span>(</span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a>    <span class="at">basepath =</span> <span class="fu">make_link</span>(),</span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a>    <span class="at">toolbar =</span> <span class="sc">&lt;</span>TOOLBAR<span class="sc">&gt;</span>,</span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a>    <span class="at">options =</span> <span class="co"># Framework7 options see above #</span></span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a>  )</span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a>)</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="a-simple-multi-pages-app">A simple multi pages app<a class="anchor" aria-label="anchor" href="#a-simple-multi-pages-app"></a>
</h2>
<p>let’s build our simple app. It has 3 pages, the welcome page and 2
other pages. We create the navigation links as follows with the
<code><a href="../reference/f7Link.html">f7Link()</a></code> function and allowing <code>routable</code>,
wrapping them with <code>make_link</code>:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">links</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">tags</span><span class="op">$</span><span class="fu">li</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/f7Link.html">f7Link</a></span><span class="op">(</span></span>
<span>      routable <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Link to page %s"</span>, <span class="va">i</span><span class="op">)</span>,</span>
<span>      href <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"/%s"</span>, <span class="va">i</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<p>Importantly, the <strong>href</strong> must point to the right
location passed in the routes options, as previously described (here it
is <code>/2</code> and <code>/3</code>).</p>
<p>The first page is a function wrapped by the <code>{brochure}</code>
<code><a href="https://rdrr.io/r/utils/page.html" class="external-link">page()</a></code> function containing:</p>
<ul>
<li>a <strong>ui</strong> component with a navbar, the page
content.</li>
<li>
<strong>href</strong> must be <code>/</code> that is the root
page.</li>
</ul>
<p>As you may notice, here is the only place where we don’t need to wrap
<code>href</code> with <code>make_link</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">page_1</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/page.html" class="external-link">page</a></span><span class="op">(</span></span>
<span>    href <span class="op">=</span> <span class="st">"/"</span>,</span>
<span>    ui <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">request</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">shiny</span><span class="fu">::</span><span class="va"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">tags</a></span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>        class <span class="op">=</span> <span class="st">"page"</span>,</span>
<span>        <span class="co"># top navbar goes here</span></span>
<span>        <span class="fu"><a href="../reference/navbar.html">f7Navbar</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Home page"</span><span class="op">)</span>,</span>
<span>        <span class="va">tags</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>          class <span class="op">=</span> <span class="st">"page-content"</span>,</span>
<span>          <span class="fu"><a href="../reference/f7List.html">f7List</a></span><span class="op">(</span></span>
<span>            inset <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            strong <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            outline <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            dividers <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            mode <span class="op">=</span> <span class="st">"links"</span>,</span>
<span>            <span class="va">links</span></span>
<span>          <span class="op">)</span>,</span>
<span>          <span class="fu"><a href="../reference/block.html">f7Block</a></span><span class="op">(</span></span>
<span>            <span class="fu"><a href="../reference/text.html">f7Text</a></span><span class="op">(</span><span class="st">"text"</span>, <span class="st">"Text input"</span>, <span class="st">"default"</span><span class="op">)</span>,</span>
<span>            <span class="fu"><a href="../reference/select.html">f7Select</a></span><span class="op">(</span><span class="st">"select"</span>, <span class="st">"Select"</span>, <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">textOutput</a></span><span class="op">(</span><span class="st">"res"</span><span class="op">)</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">textOutput</a></span><span class="op">(</span><span class="st">"res2"</span><span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p><code>links</code> are wrapped within a <code><a href="../reference/f7List.html">f7List()</a></code> which
has better styling options.</p>
<p>The second page follows the same layout. Notice that we could pass it
a local <code>toolbar</code> but decided to use the global toolbar from
<code>f7Multilayout()</code> so all pages share the same toolbar. This
choice is up to your preference. A cool new feature from
<a href="https://github.com/RinteRface/shinyMobile" class="external-link">shinyMobile</a> 2.0.0 is the ability to pass tags to the
<code><a href="../reference/navbar.html">f7Navbar()</a></code> <strong>left</strong> parameter, which make it
possible to add a back button link. Don’t forget the <code>back</code>
css class so that the router transition looks correct:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">page_2</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/page.html" class="external-link">page</a></span><span class="op">(</span></span>
<span>    href <span class="op">=</span> <span class="st">"/2"</span>,</span>
<span>    ui <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">request</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">shiny</span><span class="fu">::</span><span class="va"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">tags</a></span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>        class <span class="op">=</span> <span class="st">"page"</span>,</span>
<span>        <span class="co"># top navbar goes here</span></span>
<span>        <span class="fu"><a href="../reference/navbar.html">f7Navbar</a></span><span class="op">(</span></span>
<span>          title <span class="op">=</span> <span class="st">"Second page"</span>,</span>
<span>          <span class="co"># Allows to go back to main</span></span>
<span>          leftPanel <span class="op">=</span> <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">tagList</a></span><span class="op">(</span></span>
<span>            <span class="va">tags</span><span class="op">$</span><span class="fu">a</span><span class="op">(</span></span>
<span>              href <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>,</span>
<span>              class <span class="op">=</span> <span class="st">"link back"</span>,</span>
<span>              <span class="va">tags</span><span class="op">$</span><span class="fu">i</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"icon icon-back"</span><span class="op">)</span>,</span>
<span>              <span class="va">tags</span><span class="op">$</span><span class="fu">span</span><span class="op">(</span></span>
<span>                class <span class="op">=</span> <span class="st">"if-not-md"</span>,</span>
<span>                <span class="st">"Back"</span></span>
<span>              <span class="op">)</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="co"># NOTE: when the main toolbar is enabled in</span></span>
<span>        <span class="co"># f7MultiLayout, we can't use individual page toolbars.</span></span>
<span>        <span class="co"># f7Toolbar(</span></span>
<span>        <span class="co">#  position = "bottom",</span></span>
<span>        <span class="co">#  tags$a(</span></span>
<span>        <span class="co">#    href = "/",</span></span>
<span>        <span class="co">#    "Main page",</span></span>
<span>        <span class="co">#    class = "link"</span></span>
<span>        <span class="co">#  )</span></span>
<span>        <span class="co"># ),</span></span>
<span>        <span class="fu">shiny</span><span class="fu">::</span><span class="va"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">tags</a></span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>          class <span class="op">=</span> <span class="st">"page-content"</span>,</span>
<span>          <span class="fu"><a href="../reference/block.html">f7Block</a></span><span class="op">(</span><span class="fu"><a href="../reference/button.html">f7Button</a></span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"update"</span>, label <span class="op">=</span> <span class="st">"Update stepper"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>          <span class="fu"><a href="../reference/f7List.html">f7List</a></span><span class="op">(</span></span>
<span>            strong <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            inset <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            outline <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>            <span class="fu"><a href="../reference/stepper.html">f7Stepper</a></span><span class="op">(</span></span>
<span>              inputId <span class="op">=</span> <span class="st">"stepper"</span>,</span>
<span>              label <span class="op">=</span> <span class="st">"My stepper"</span>,</span>
<span>              min <span class="op">=</span> <span class="fl">0</span>,</span>
<span>              max <span class="op">=</span> <span class="fl">10</span>,</span>
<span>              size <span class="op">=</span> <span class="st">"small"</span>,</span>
<span>              value <span class="op">=</span> <span class="fl">4</span>,</span>
<span>              wraps <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              autorepeat <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              rounded <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>              raised <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>              manual <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span>,</span>
<span>          <span class="fu"><a href="../reference/block.html">f7Block</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">textOutput</a></span><span class="op">(</span><span class="st">"test"</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The page contains a <code><a href="../reference/stepper.html">f7Stepper()</a></code> which is an improved
numeric input.</p>
<p>Finally, you’ll find the third page code in the global app code
below.</p>
<p>The main server function contains all the logic related to widgets
you can find in all pages and passed to the <code>brochureApp()</code>
<strong>server</strong> parameter:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">server</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderText</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">text</span><span class="op">)</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderText</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">select</span><span class="op">)</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderText</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">stepper</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">update</span>, <span class="op">{</span></span>
<span>    <span class="fu"><a href="../reference/stepper.html">updateF7Stepper</a></span><span class="op">(</span></span>
<span>      inputId <span class="op">=</span> <span class="st">"stepper"</span>,</span>
<span>      value <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>      step <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>      size <span class="op">=</span> <span class="st">"large"</span>,</span>
<span>      min <span class="op">=</span> <span class="fl">0</span>,</span>
<span>      max <span class="op">=</span> <span class="fl">1</span>,</span>
<span>      wraps <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>      autorepeat <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>      rounded <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      raised <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      color <span class="op">=</span> <span class="st">"pink"</span>,</span>
<span>      manual <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      decimalPoint <span class="op">=</span> <span class="fl">2</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Notice that the global app toolbar is passed with the
<strong>wrapper_options</strong> parameter, the reason being it has to
be injected in the <code><a href="../reference/f7MultiLayout.html">f7MultiLayout()</a></code> wrapper. We also have to
pass the <code>basepath</code> paramter for the
<code>f7MultiLayout</code> wrapper function:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wrapped_options</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  basepath <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="co"># Common toolbar</span></span>
<span>  toolbar <span class="op">=</span> <span class="fu"><a href="../reference/f7Toolbar.html">f7Toolbar</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/f7Link.html">f7Link</a></span><span class="op">(</span>icon <span class="op">=</span> <span class="fu"><a href="../reference/f7Icon.html">f7Icon</a></span><span class="op">(</span><span class="st">"house"</span><span class="op">)</span>, href <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>, routable <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="co"># Other options</span></span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>As you can see, that wasn’t tricky to setup such a layout and the
entire working example is shown below.</p>
<div class="text-center">
<p><a class="btn btn-primary" data-bs-toggle="collapse" href="#tabLayout" role="button" aria-expanded="false" aria-controls="tabLayout">
Code </a></p>
</div>
<div id="tabLayout" class="collapse">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="co"># Needs a specific version of brochure for now.</span></span>
<span><span class="co"># This allows to pass wrapper functions with options</span></span>
<span><span class="co"># as list. We need it because of the f7Page options parameter</span></span>
<span><span class="co"># and to pass the routes list object for JS.</span></span>
<span><span class="co"># devtools::install_github("DivadNojnarg/brochure")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">brochure</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RinteRface/shinyMobile" class="external-link">shinyMobile</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Allows to use the app on a server like </span></span>
<span><span class="co"># shinyapps.io where basepath is /app_name</span></span>
<span><span class="co"># instead of "/" or "".</span></span>
<span><span class="va">make_link</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">path</span> <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">path</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="fu">config</span><span class="fu">::</span><span class="fu">get</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">basepath</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu">config</span><span class="fu">::</span><span class="fu">get</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">basepath</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="st">"/"</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"%s/%s"</span>, <span class="fu">config</span><span class="fu">::</span><span class="fu">get</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">basepath</span>, <span class="va">path</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">links</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">tags</span><span class="op">$</span><span class="fu">li</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/f7Link.html">f7Link</a></span><span class="op">(</span></span>
<span>      routable <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Link to page %s"</span>, <span class="va">i</span><span class="op">)</span>,</span>
<span>      href <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="va">page_1</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/page.html" class="external-link">page</a></span><span class="op">(</span></span>
<span>    href <span class="op">=</span> <span class="st">"/"</span>,</span>
<span>    ui <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">request</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">shiny</span><span class="fu">::</span><span class="va"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">tags</a></span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>        class <span class="op">=</span> <span class="st">"page"</span>,</span>
<span>        <span class="co"># top navbar goes here</span></span>
<span>        <span class="fu"><a href="../reference/navbar.html">f7Navbar</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Home page"</span><span class="op">)</span>,</span>
<span>        <span class="va">tags</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>          class <span class="op">=</span> <span class="st">"page-content"</span>,</span>
<span>          <span class="fu"><a href="../reference/f7List.html">f7List</a></span><span class="op">(</span></span>
<span>            inset <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            strong <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            outline <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            dividers <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            mode <span class="op">=</span> <span class="st">"links"</span>,</span>
<span>            <span class="va">links</span></span>
<span>          <span class="op">)</span>,</span>
<span>          <span class="fu"><a href="../reference/block.html">f7Block</a></span><span class="op">(</span></span>
<span>            <span class="fu"><a href="../reference/text.html">f7Text</a></span><span class="op">(</span><span class="st">"text"</span>, <span class="st">"Text input"</span>, <span class="st">"default"</span><span class="op">)</span>,</span>
<span>            <span class="fu"><a href="../reference/select.html">f7Select</a></span><span class="op">(</span><span class="st">"select"</span>, <span class="st">"Select"</span>, <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">textOutput</a></span><span class="op">(</span><span class="st">"res"</span><span class="op">)</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">textOutput</a></span><span class="op">(</span><span class="st">"res2"</span><span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">page_2</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/page.html" class="external-link">page</a></span><span class="op">(</span></span>
<span>    href <span class="op">=</span> <span class="st">"/2"</span>,</span>
<span>    ui <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">request</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">shiny</span><span class="fu">::</span><span class="va"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">tags</a></span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>        class <span class="op">=</span> <span class="st">"page"</span>,</span>
<span>        <span class="co"># top navbar goes here</span></span>
<span>        <span class="fu"><a href="../reference/navbar.html">f7Navbar</a></span><span class="op">(</span></span>
<span>          title <span class="op">=</span> <span class="st">"Second page"</span>,</span>
<span>          <span class="co"># Allows to go back to main</span></span>
<span>          leftPanel <span class="op">=</span> <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">tagList</a></span><span class="op">(</span></span>
<span>            <span class="va">tags</span><span class="op">$</span><span class="fu">a</span><span class="op">(</span></span>
<span>              href <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>,</span>
<span>              class <span class="op">=</span> <span class="st">"link back"</span>,</span>
<span>              <span class="va">tags</span><span class="op">$</span><span class="fu">i</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"icon icon-back"</span><span class="op">)</span>,</span>
<span>              <span class="va">tags</span><span class="op">$</span><span class="fu">span</span><span class="op">(</span></span>
<span>                class <span class="op">=</span> <span class="st">"if-not-md"</span>,</span>
<span>                <span class="st">"Back"</span></span>
<span>              <span class="op">)</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="co"># NOTE: when the main toolbar is enabled in</span></span>
<span>        <span class="co"># f7MultiLayout, we can't use individual page toolbars.</span></span>
<span>        <span class="co"># f7Toolbar(</span></span>
<span>        <span class="co">#  position = "bottom",</span></span>
<span>        <span class="co">#  tags$a(</span></span>
<span>        <span class="co">#    href = "/",</span></span>
<span>        <span class="co">#    "Main page",</span></span>
<span>        <span class="co">#    class = "link"</span></span>
<span>        <span class="co">#  )</span></span>
<span>        <span class="co"># ),</span></span>
<span>        <span class="fu">shiny</span><span class="fu">::</span><span class="va"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">tags</a></span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>          class <span class="op">=</span> <span class="st">"page-content"</span>,</span>
<span>          <span class="fu"><a href="../reference/block.html">f7Block</a></span><span class="op">(</span><span class="fu"><a href="../reference/button.html">f7Button</a></span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"update"</span>, label <span class="op">=</span> <span class="st">"Update stepper"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>          <span class="fu"><a href="../reference/f7List.html">f7List</a></span><span class="op">(</span></span>
<span>            strong <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            inset <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>            outline <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>            <span class="fu"><a href="../reference/stepper.html">f7Stepper</a></span><span class="op">(</span></span>
<span>              inputId <span class="op">=</span> <span class="st">"stepper"</span>,</span>
<span>              label <span class="op">=</span> <span class="st">"My stepper"</span>,</span>
<span>              min <span class="op">=</span> <span class="fl">0</span>,</span>
<span>              max <span class="op">=</span> <span class="fl">10</span>,</span>
<span>              size <span class="op">=</span> <span class="st">"small"</span>,</span>
<span>              value <span class="op">=</span> <span class="fl">4</span>,</span>
<span>              wraps <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              autorepeat <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              rounded <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>              raised <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>              manual <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span>,</span>
<span>          <span class="fu"><a href="../reference/block.html">f7Block</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">textOutput</a></span><span class="op">(</span><span class="st">"test"</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">page_3</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/page.html" class="external-link">page</a></span><span class="op">(</span></span>
<span>    href <span class="op">=</span> <span class="st">"/3"</span>,</span>
<span>    ui <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">request</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">shiny</span><span class="fu">::</span><span class="va"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">tags</a></span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>        class <span class="op">=</span> <span class="st">"page"</span>,</span>
<span>        <span class="co"># top navbar goes here</span></span>
<span>        <span class="fu"><a href="../reference/navbar.html">f7Navbar</a></span><span class="op">(</span></span>
<span>          title <span class="op">=</span> <span class="st">"Third page"</span>,</span>
<span>          <span class="co"># Allows to go back to main</span></span>
<span>          leftPanel <span class="op">=</span> <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">tagList</a></span><span class="op">(</span></span>
<span>            <span class="va">tags</span><span class="op">$</span><span class="fu">a</span><span class="op">(</span></span>
<span>              href <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>,</span>
<span>              class <span class="op">=</span> <span class="st">"link back"</span>,</span>
<span>              <span class="va">tags</span><span class="op">$</span><span class="fu">i</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"icon icon-back"</span><span class="op">)</span>,</span>
<span>              <span class="va">tags</span><span class="op">$</span><span class="fu">span</span><span class="op">(</span></span>
<span>                class <span class="op">=</span> <span class="st">"if-not-md"</span>,</span>
<span>                <span class="st">"Back"</span></span>
<span>              <span class="op">)</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span>,</span>
<span>        <span class="co"># NOTE: when the main toolbar is enabled in</span></span>
<span>        <span class="co"># f7MultiLayout, we can't use individual page toolbars.</span></span>
<span>        <span class="co"># f7Toolbar(</span></span>
<span>        <span class="co">#  position = "bottom",</span></span>
<span>        <span class="co">#  tags$a(</span></span>
<span>        <span class="co">#    href = "/2",</span></span>
<span>        <span class="co">#    "Second page",</span></span>
<span>        <span class="co">#    class = "link"</span></span>
<span>        <span class="co">#  )</span></span>
<span>        <span class="co"># ),</span></span>
<span>        <span class="fu">shiny</span><span class="fu">::</span><span class="va"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">tags</a></span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>          class <span class="op">=</span> <span class="st">"page-content"</span>,</span>
<span>          <span class="fu"><a href="../reference/block.html">f7Block</a></span><span class="op">(</span><span class="st">"Nothing to show yet ..."</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">brochureApp</span><span class="op">(</span></span>
<span>  basepath <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="co"># Pages</span></span>
<span>  <span class="fu">page_1</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="fu">page_2</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="fu">page_3</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="co"># Important: in theory brochure makes</span></span>
<span>  <span class="co"># each page having its own shiny session/ server function.</span></span>
<span>  <span class="co"># That's not what we want here so we'll have</span></span>
<span>  <span class="co"># a global server function.</span></span>
<span>  server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderText</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">text</span><span class="op">)</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderText</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">select</span><span class="op">)</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderText</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">stepper</span><span class="op">)</span></span>
<span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">update</span>, <span class="op">{</span></span>
<span>      <span class="fu"><a href="../reference/stepper.html">updateF7Stepper</a></span><span class="op">(</span></span>
<span>        inputId <span class="op">=</span> <span class="st">"stepper"</span>,</span>
<span>        value <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>        step <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>        size <span class="op">=</span> <span class="st">"large"</span>,</span>
<span>        min <span class="op">=</span> <span class="fl">0</span>,</span>
<span>        max <span class="op">=</span> <span class="fl">1</span>,</span>
<span>        wraps <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>        autorepeat <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>        rounded <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        raised <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        color <span class="op">=</span> <span class="st">"pink"</span>,</span>
<span>        manual <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        decimalPoint <span class="op">=</span> <span class="fl">2</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span>,</span>
<span>  wrapped <span class="op">=</span> <span class="va">f7MultiLayout</span>,</span>
<span>  wrapped_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    basepath <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>,</span>
<span>    <span class="co"># Common toolbar</span></span>
<span>    toolbar <span class="op">=</span> <span class="fu"><a href="../reference/f7Toolbar.html">f7Toolbar</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="../reference/f7Link.html">f7Link</a></span><span class="op">(</span>icon <span class="op">=</span> <span class="fu"><a href="../reference/f7Icon.html">f7Icon</a></span><span class="op">(</span><span class="st">"house"</span><span class="op">)</span>, href <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>, routable <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      dark <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      theme <span class="op">=</span> <span class="st">"md"</span>,</span>
<span>      routes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        <span class="co"># Important: don't remove keepAlive</span></span>
<span>        <span class="co"># for pages as this allows</span></span>
<span>        <span class="co"># to save the input state when switching</span></span>
<span>        <span class="co"># between pages. If FALSE, each time a page is</span></span>
<span>        <span class="co"># changed, inputs are reset.</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>, url <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"home"</span>, keepAlive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="st">"2"</span><span class="op">)</span>, url <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="st">"2"</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"2"</span>, keepAlive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="st">"3"</span><span class="op">)</span>, url <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="st">"3"</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"3"</span>, keepAlive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="going-further">Going further<a class="anchor" aria-label="anchor" href="#going-further"></a>
</h2>
<div class="section level3">
<h3 id="with-shiny-modules">With shiny modules<a class="anchor" aria-label="anchor" href="#with-shiny-modules"></a>
</h3>
<p>You might find more convenient to assign a Shiny
<strong>module</strong> per page such as:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">page_ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">tags</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>    class <span class="op">=</span> <span class="st">"page"</span>,</span>
<span>    <span class="fu"><a href="../reference/navbar.html">f7Navbar</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Navbar"</span><span class="op">)</span>,</span>
<span>    <span class="va">tags</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>      class <span class="op">=</span> <span class="st">"page-content"</span>,</span>
<span>      <span class="fu"><a href="../reference/block.html">f7Block</a></span><span class="op">(</span></span>
<span>        inset <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        strong <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        <span class="fu"><a href="../reference/text.html">f7Text</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"text"</span><span class="op">)</span>, <span class="st">"A text input"</span>, <span class="st">"Super text!"</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">textOutput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"res"</span><span class="op">)</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">page_server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/moduleServer.html" class="external-link">moduleServer</a></span><span class="op">(</span></span>
<span>    <span class="va">id</span>, </span>
<span>    <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">output</span><span class="op">$</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderText</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">text</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">my_page</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/page.html" class="external-link">page</a></span><span class="op">(</span></span>
<span>    href <span class="op">=</span> <span class="st">"/"</span>,</span>
<span>    ui <span class="op">=</span> <span class="fu">page_ui</span><span class="op">(</span><span class="st">"page1"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">brochureApp</span><span class="op">(</span></span>
<span>  basepath <span class="op">=</span> <span class="fu">config</span><span class="fu">::</span><span class="fu">get</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">basepath</span>,</span>
<span>  <span class="fu">my_page</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Call modules here</span></span>
<span>    <span class="fu">page_server</span><span class="op">(</span><span class="st">"page1"</span><span class="op">)</span></span>
<span>  <span class="op">}</span>,</span>
<span>  wrapped <span class="op">=</span> <span class="va">f7MultiLayout</span>,</span>
<span>  wrapped_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    basepath <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>,</span>
<span>    <span class="co"># Common toolbar</span></span>
<span>    toolbar <span class="op">=</span> <span class="fu"><a href="../reference/f7Toolbar.html">f7Toolbar</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="../reference/f7Link.html">f7Link</a></span><span class="op">(</span>icon <span class="op">=</span> <span class="fu"><a href="../reference/f7Icon.html">f7Icon</a></span><span class="op">(</span><span class="st">"house"</span><span class="op">)</span>, href <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>, routable <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      dark <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      theme <span class="op">=</span> <span class="st">"md"</span>,</span>
<span>      routes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        <span class="co"># Important: don't remove keepAlive</span></span>
<span>        <span class="co"># for pages as this allows</span></span>
<span>        <span class="co"># to save the input state when switching</span></span>
<span>        <span class="co"># between pages. If FALSE, each time a page is</span></span>
<span>        <span class="co"># changed, inputs are reset.</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>, url <span class="op">=</span> <span class="fu">make_link</span><span class="op">(</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"home"</span>, keepAlive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="dynamic-routes">Dynamic routes<a class="anchor" aria-label="anchor" href="#dynamic-routes"></a>
</h3>
<p>How do we dynamically create new routes? Since
<code>{brochure}</code> stores all the pages in the
<code>...pages</code> environment, we can add entries to it. In the
following example, we add a <code>/new</code> page which has a basic UI
and then browse to the corresponding url. We then leverage
<code>session$sendCustomMessage</code> to send the page
<code>href</code> from R to JS and
<code>Shiny.addCustomMessageHandler</code> on the JS side to pass it to
<code>window.open</code>, with the <code>_self</code> option (meaning
that we open in the same window).</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">brochureApp</span><span class="op">(</span></span>
<span>  <span class="co"># First page</span></span>
<span>  <span class="va">tags</span><span class="op">$</span><span class="fu">script</span><span class="op">(</span></span>
<span>    <span class="st">"$(function() {</span></span>
<span><span class="st">      $(document).on('shiny:connected', function() {</span></span>
<span><span class="st">        Shiny.addCustomMessageHandler('browse', function(m) {</span></span>
<span><span class="st">          window.open(window.location.href + m, '_self');</span></span>
<span><span class="st">        });</span></span>
<span><span class="st">      });</span></span>
<span><span class="st">    });"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/page.html" class="external-link">page</a></span><span class="op">(</span></span>
<span>    href <span class="op">=</span> <span class="st">"/"</span>,</span>
<span>    ui <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">h1</a></span><span class="op">(</span><span class="st">"This is my first page"</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html" class="external-link">plotOutput</a></span><span class="op">(</span><span class="st">"plot"</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/actionButton.html" class="external-link">actionButton</a></span><span class="op">(</span><span class="st">"add"</span>, <span class="st">"Add page"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="co"># Second page, without any server-side function</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/page.html" class="external-link">page</a></span><span class="op">(</span></span>
<span>    href <span class="op">=</span> <span class="st">"/page2"</span>,</span>
<span>    ui <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">h1</a></span><span class="op">(</span><span class="st">"This is my second page"</span><span class="op">)</span>,</span>
<span>      <span class="va">tags</span><span class="op">$</span><span class="fu">p</span><span class="op">(</span><span class="st">"There is no server function in this one"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html" class="external-link">renderPlot</a></span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">add</span>, <span class="op">{</span></span>
<span>      <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="op">(</span><span class="st">"/new"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">...pages</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">...pages</span><span class="op">[[</span><span class="st">"/new"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span><span class="st">"New dynamic page"</span><span class="op">)</span></span>
<span>      <span class="op">}</span></span>
<span>      <span class="va">session</span><span class="op">$</span><span class="fu">sendCustomMessage</span><span class="op">(</span><span class="st">"browse"</span>, <span class="st">"new"</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>How does that translate for <a href="https://github.com/RinteRface/shinyMobile" class="external-link">shinyMobile</a>? Let’s take a
simple app with one page. We define the routes outside the
<code>brochureApp</code>, as we’ll have to update the options from
within the server function. Initially, we consider one route. By
clicking on the add button, we add a new page to
<code>...pages[["/new"]]$ui</code>, update the global options to account
for the new route on the R side and use
<code>updateF7Routes(options$routes)</code> to update the router on the
JS side and have the navigation working:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  dark <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  theme <span class="op">=</span> <span class="st">"md"</span>,</span>
<span>  routes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"/"</span>, url <span class="op">=</span> <span class="st">"/"</span>, name <span class="op">=</span> <span class="st">"home"</span>, keepAlive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">page_1</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/page.html" class="external-link">page</a></span><span class="op">(</span></span>
<span>    href <span class="op">=</span> <span class="st">"/"</span>,</span>
<span>    ui <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">request</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">shiny</span><span class="fu">::</span><span class="va"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">tags</a></span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>        class <span class="op">=</span> <span class="st">"page"</span>,</span>
<span>        <span class="co"># top navbar goes here</span></span>
<span>        <span class="fu"><a href="../reference/navbar.html">f7Navbar</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Home page"</span><span class="op">)</span>,</span>
<span>        <span class="va">tags</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>          class <span class="op">=</span> <span class="st">"page-content"</span>,</span>
<span>          <span class="fu"><a href="../reference/block.html">f7Block</a></span><span class="op">(</span></span>
<span>            <span class="fu"><a href="../reference/button.html">f7Button</a></span><span class="op">(</span><span class="st">"add"</span>, <span class="st">"Add new"</span><span class="op">)</span></span>
<span>          <span class="op">)</span>,</span>
<span>          <span class="fu"><a href="../reference/block.html">f7Block</a></span><span class="op">(</span></span>
<span>            <span class="fu"><a href="../reference/f7Link.html">f7Link</a></span><span class="op">(</span><span class="st">"New"</span>, href <span class="op">=</span> <span class="st">"/new"</span>, routable <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">brochureApp</span><span class="op">(</span></span>
<span>  <span class="fu">page_1</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">add</span>, <span class="op">{</span></span>
<span>      <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="op">(</span><span class="st">"/new"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">...pages</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">...pages</span><span class="op">[[</span><span class="st">"/new"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="va"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">tags</a></span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>            class <span class="op">=</span> <span class="st">"page"</span>,</span>
<span>            <span class="co"># top navbar goes here</span></span>
<span>            <span class="fu"><a href="../reference/navbar.html">f7Navbar</a></span><span class="op">(</span></span>
<span>              title <span class="op">=</span> <span class="st">"New page"</span>,</span>
<span>              <span class="co"># Allows to go back to main</span></span>
<span>              leftPanel <span class="op">=</span> <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">tagList</a></span><span class="op">(</span></span>
<span>                <span class="va">tags</span><span class="op">$</span><span class="fu">a</span><span class="op">(</span></span>
<span>                  href <span class="op">=</span> <span class="st">"/"</span>,</span>
<span>                  class <span class="op">=</span> <span class="st">"link back"</span>,</span>
<span>                  <span class="va">tags</span><span class="op">$</span><span class="fu">i</span><span class="op">(</span>class <span class="op">=</span> <span class="st">"icon icon-back"</span><span class="op">)</span>,</span>
<span>                  <span class="va">tags</span><span class="op">$</span><span class="fu">span</span><span class="op">(</span></span>
<span>                    class <span class="op">=</span> <span class="st">"if-not-md"</span>,</span>
<span>                    <span class="st">"Back"</span></span>
<span>                  <span class="op">)</span></span>
<span>                <span class="op">)</span></span>
<span>              <span class="op">)</span></span>
<span>            <span class="op">)</span>,</span>
<span>            <span class="va">tags</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>              class <span class="op">=</span> <span class="st">"page-content"</span>,</span>
<span>              <span class="fu"><a href="../reference/block.html">f7Block</a></span><span class="op">(</span><span class="st">"Nothing here"</span><span class="op">)</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="va">options</span><span class="op">$</span><span class="va">routes</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">options</span><span class="op">$</span><span class="va">routes</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"/new"</span>, url <span class="op">=</span> <span class="st">"/new"</span>, name <span class="op">=</span> <span class="st">"new"</span>, keepAlive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>        <span class="fu"><a href="../reference/updateF7Routes.html">updateF7Routes</a></span><span class="op">(</span><span class="va">options</span><span class="op">$</span><span class="va">routes</span><span class="op">)</span></span>
<span>      <span class="op">}</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span>,</span>
<span>  wrapped <span class="op">=</span> <span class="va">f7MultiLayout</span>,</span>
<span>  wrapped_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="co"># Common toolbar</span></span>
<span>    toolbar <span class="op">=</span> <span class="fu"><a href="../reference/f7Toolbar.html">f7Toolbar</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="../reference/f7Link.html">f7Link</a></span><span class="op">(</span>icon <span class="op">=</span> <span class="fu"><a href="../reference/f7Icon.html">f7Icon</a></span><span class="op">(</span><span class="st">"house"</span><span class="op">)</span>, href <span class="op">=</span> <span class="st">"/"</span>, routable <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    options <span class="op">=</span> <span class="va">options</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Granjon, Veerle van Leemput, AthlyticZ, Victor Perrier, Isabelle Rudolf.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
